define("monaco-editor",["exports","vs/editor/editor.main"],function(a,b){Object.assign(a,b)}),define("diff",["exports"],function(a){"use strict";function b(){}function o(f,b,j,k,l){for(var c=0,g=b.length,d=0,h=0;c<g;c++){var a=b[c];if(a.removed){if(a.value=f.join(k.slice(h,h+a.count)),h+=a.count,c&&b[c-1].added){var m=b[c-1];b[c-1]=b[c],b[c]=m}}else{if(!a.added&&l){var i=j.slice(d,d+a.count);i=i.map(function(a,c){var b=k[h+c];return b.length>a.length?b:a}),a.value=f.join(i)}else a.value=f.join(j.slice(d,d+a.count));d+=a.count,a.added||(h+=a.count)}}var e=b[g-1];return g>1&&"string"==typeof e.value&&(e.added||e.removed)&&f.equals("",e.value)&&(b[g-2].value+=e.value,b.pop()),b}function p(a){return{newPos:a.newPos,components:a.components.slice(0)}}b.prototype={diff:function(b,a){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},d=c.callback;"function"==typeof c&&(d=c,c={}),this.options=c;var n=this;function i(a){return d?(setTimeout(function(){d(void 0,a)},0),!0):a}b=this.castInput(b),a=this.castInput(a),b=this.removeEmpty(this.tokenize(b));var e=(a=this.removeEmpty(this.tokenize(a))).length,f=b.length,j=1,k=e+f,g=[{newPos:-1,components:[]}],l=this.extractCommon(g[0],a,b,0);if(g[0].newPos+1>=e&&l+1>=f)return i([{value:this.join(a),count:a.length}]);function m(){for(var c=-1*j;c<=j;c+=2){var d=void 0,h=g[c-1],k=g[c+1],l=(k?k.newPos:0)-c;h&&(g[c-1]=void 0);var m=h&&h.newPos+1<e,q=k&&0<=l&&l<f;if(!m&&!q){g[c]=void 0;continue}if(!m||q&&h.newPos<k.newPos?(d=p(k),n.pushComponent(d.components,void 0,!0)):(d=h,d.newPos++,n.pushComponent(d.components,!0,void 0)),l=n.extractCommon(d,a,b,c),d.newPos+1>=e&&l+1>=f)return i(o(n,d.components,a,b,n.useLongestToken));g[c]=d}j++}if(d)setTimeout(function(){if(j>k)return d();m()||exec()},0);else for(;j<=k;){var h=m();if(h)return h}},pushComponent:function(a,c,d){var b=a[a.length-1];b&&b.added===c&&b.removed===d?a[a.length-1]={count:b.count+1,added:c,removed:d}:a.push({count:1,added:c,removed:d})},extractCommon:function(c,e,f,g){for(var h=e.length,i=f.length,a=c.newPos,b=a-g,d=0;a+1<h&&b+1<i&&this.equals(e[a+1],f[b+1]);)a++,b++,d++;return d&&c.components.push({count:d}),c.newPos=a,b},equals:function(a,b){return this.options.comparator?this.options.comparator(a,b):a===b||this.options.ignoreCase&&a.toLowerCase()===b.toLowerCase()},removeEmpty:function(b){for(var c=[],a=0;a<b.length;a++)b[a]&&c.push(b[a]);return c},castInput:function(a){return a},tokenize:function(a){return a.split("")},join:function(a){return a.join("")}};var q=new b;function r(a,b){if("function"==typeof a)b.callback=a;else if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,t=/\S/,e=new b;e.equals=function(a,b){return this.options.ignoreCase&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b||this.options.ignoreWhitespace&&!t.test(a)&&!t.test(b)},e.tokenize=function(c){for(var b=c.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),a=0;a<b.length-1;a++)!b[a+1]&&b[a+2]&&s.test(b[a])&&s.test(b[a+2])&&(b[a]+=b[a+2],b.splice(a+1,2),a--);return b};var f=new b;function g(a,b,c){return f.diff(a,b,c)}f.tokenize=function(e){var b=[],a=e.split(/(\n|\r\n)/);a[a.length-1]||a.pop();for(var c=0;c<a.length;c++){var d=a[c];c%2&&!this.options.newlineIsToken?b[b.length-1]+=d:(this.options.ignoreWhitespace&&(d=d.trim()),b.push(d))}return b};var h=new b;h.tokenize=function(a){return a.split(/(\S.+?[.!?])(?=\s+|$)/)};var i=new b;function u(a){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function v(a){return w(a)||x(a)||y(a)||A()}function w(a){if(Array.isArray(a))return z(a)}function x(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function y(a,c){if(a){if("string"==typeof a)return z(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return z(a,c)}}function z(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.tokenize=function(a){return a.split(/([{}:;,]|\s+)/)};var B=Object.prototype.toString,c=new b;function j(a,b,c,e,i){for(b=b||[],c=c||[],e&&(a=e(i,a)),f=0;f<b.length;f+=1)if(b[f]===a)return c[f];if("[object Array]"===B.call(a)){for(b.push(a),h=new Array(a.length),c.push(h),f=0;f<a.length;f+=1)h[f]=j(a[f],b,c,e,i);return b.pop(),c.pop(),h}if(a&&a.toJSON&&(a=a.toJSON()),"object"===u(a)&&null!==a){b.push(a),h={},c.push(h);var f,h,d,g=[];for(d in a)a.hasOwnProperty(d)&&g.push(d);for(g.sort(),f=0;f<g.length;f+=1)h[d=g[f]]=j(a[d],b,c,e,d);b.pop(),c.pop()}else h=a;return h}c.useLongestToken=!0,c.tokenize=f.tokenize,c.castInput=function(a){var b=this.options,e=b.undefinedReplacement,c=b.stringifyReplacer,d=void 0===c?function(b,a){return void 0===a?e:a}:c;return"string"==typeof a?a:JSON.stringify(j(a,null,null,d),d,"  ")},c.equals=function(a,d){return b.prototype.equals.call(c,a.replace(/,([\r\n])/g,"$1"),d.replace(/,([\r\n])/g,"$1"))};var d=new b;function k(a){var f=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},b=a.split(/\r\n|[\n\v\f\r\x85]/),g=a.match(/\r\n|[\n\v\f\r\x85]/g)||[],c=[],d=0;function e(){var a={};for(c.push(a);d<b.length;){var g=b[d];if(/^(\-\-\-|\+\+\+|@@)\s/.test(g))break;var j=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(g);j&&(a.index=j[1]),d++}for(h(a),h(a),a.hunks=[];d<b.length;){var e=b[d];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(e))break;if(/^@@/.test(e))a.hunks.push(i());else if(e&&f.strict)throw new Error("Unknown line "+(d+1)+" "+JSON.stringify(e));else d++}}function h(e){var c=/^(---|\+\+\+)\s+(.*)$/.exec(b[d]);if(c){var f="---"===c[1]?"old":"new",g=c[2].split("	",2),a=g[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),e[f+"FileName"]=a,e[f+"Header"]=(g[1]||"").trim(),d++}}function i(){var j=d,e=b[d++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+e[1],oldLines:void 0===e[2]?1:+e[2],newStart:+e[3],newLines:void 0===e[4]?1:+e[4],lines:[],linedelimiters:[]};0===a.oldLines&&(a.oldStart+=1),0===a.newLines&&(a.newStart+=1);for(var h=0,i=0;d<b.length&&(0!==b[d].indexOf("--- ")||!(d+2<b.length)||0!==b[d+1].indexOf("+++ ")||0!==b[d+2].indexOf("@@"));d++){var c=0==b[d].length&&d!=b.length-1?" ":b[d][0];if("+"===c||"-"===c||" "===c||"\\"===c)a.lines.push(b[d]),a.linedelimiters.push(g[d]||"\n"),"+"===c?h++:"-"===c?i++:" "===c&&(h++,i++);else break}if(h||1!==a.newLines||(a.newLines=0),i||1!==a.oldLines||(a.oldLines=0),f.strict){if(h!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(j+1));if(i!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(j+1))}return a}for(;d<b.length;)e();return c}function C(a,b,c){var d=!0,e=!1,f=!1,g=1;return function h(){if(d&&!f){if(e?g++:d=!1,a+g<=c)return g;f=!0}if(!e)return(f||(d=!0),b<=a-g)?-g++:(e=!0,h())}}function l(p,c){var q=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};if("string"==typeof c&&(c=k(c)),Array.isArray(c)){if(c.length>1)throw new Error("applyPatch only works with a single input.");c=c[0]}var r,s,a=p.split(/\r\n|[\n\v\f\r\x85]/),g=p.match(/\r\n|[\n\v\f\r\x85]/g)||[],l=c.hunks,E=q.compareLine||function(c,a,d,b){return a===b},F=0,G=q.fuzzFactor||0,t=0,u=0;function y(f,c){for(var d=0;d<f.lines.length;d++){var b=f.lines[d],e=b.length>0?b[0]:" ",g=b.length>0?b.substr(1):b;if(" "===e||"-"===e){if(!E(c+1,a[c],e,g)&& ++F>G)return!1;c++}}return!0}for(var n=0;n<l.length;n++){for(var d=l[n],z=a.length-d.oldLines,h=0,v=u+d.oldStart-1,A=C(v,t,z);void 0!==h;h=A())if(y(d,v+h)){d.offset=u+=h;break}if(void 0===h)return!1;t=d.offset+d.oldStart+d.oldLines}for(var w=0,o=0;o<l.length;o++){var b=l[o],e=b.oldStart+b.offset+w-1;w+=b.newLines-b.oldLines;for(var f=0;f<b.lines.length;f++){var i=b.lines[f],m=i.length>0?i[0]:" ",B=i.length>0?i.substr(1):i,D=b.linedelimiters[f];if(" "===m)e++;else if("-"===m)a.splice(e,1),g.splice(e,1);else if("+"===m)a.splice(e,0,B),g.splice(e,0,D),e++;else if("\\"===m){var x=b.lines[f-1]?b.lines[f-1][0]:null;"+"===x?r=!0:"-"===x&&(s=!0)}}}if(r)for(;!a[a.length-1];)a.pop(),g.pop();else s&&(a.push(""),g.push("\n"));for(var j=0;j<a.length-1;j++)a[j]=a[j]+g[j];return a.join("")}function m(d,e,f,h,i,j,a){a||(a={}),void 0===a.context&&(a.context=4);var c=g(f,h,a);function l(a){return a.map(function(a){return" "+a})}c.push({value:"",lines:[]});for(var k=[],m=0,n=0,o=[],p=1,q=1,b=0;b<c.length;b++)!function(e){var d=c[e],b=d.lines||d.value.replace(/\n$/,"").split("\n");if(d.lines=b,d.added||d.removed){if(!m){var j=c[e-1];m=p,n=q,j&&(m-=(o=a.context>0?l(j.lines.slice(-a.context)):[]).length,n-=o.length)}(w=o).push.apply(w,v(b.map(function(a){return(d.added?"+":"-")+a}))),d.added?q+=b.length:p+=b.length}else{if(m){if(b.length<=2*a.context&&e<c.length-2)(x=o).push.apply(x,v(l(b)));else{var w,x,r,g=Math.min(b.length,a.context);(r=o).push.apply(r,v(l(b.slice(0,g))));var i={oldStart:m,oldLines:p-m+g,newStart:n,newLines:q-n+g,lines:o};if(e>=c.length-2&&b.length<=a.context){var s=/\n$/.test(f),u=/\n$/.test(h),t=0==b.length&&o.length>i.oldLines;!s&&t&&f.length>0&&o.splice(i.oldLines,0,"\\ No newline at end of file"),(s||t)&&u||o.push("\\ No newline at end of file")}k.push(i),m=0,n=0,o=[]}}p+=b.length,q+=b.length}}(b);return{oldFileName:d,newFileName:e,oldHeader:i,newHeader:j,hunks:k}}function n(a,b,c,d,e,f,g){return function(a){var c=[];a.oldFileName==a.newFileName&&c.push("Index: "+a.oldFileName),c.push("==================================================================="),c.push("--- "+a.oldFileName+(void 0===a.oldHeader?"":"	"+a.oldHeader)),c.push("+++ "+a.newFileName+(void 0===a.newHeader?"":"	"+a.newHeader));for(var d=0;d<a.hunks.length;d++){var b=a.hunks[d];0===b.oldLines&&(b.oldStart-=1),0===b.newLines&&(b.newStart-=1),c.push("@@ -"+b.oldStart+","+b.oldLines+" +"+b.newStart+","+b.newLines+" @@"),c.push.apply(c,b.lines)}return c.join("\n")+"\n"}(m(a,b,c,d,e,f,g))}function D(c,b){if(b.length>c.length)return!1;for(var a=0;a<b.length;a++)if(b[a]!==c[a])return!1;return!0}function E(a,b){if("string"==typeof a){if(/^@@/m.test(a)||/^Index:/m.test(a))return k(a)[0];if(!b)throw new Error("Must provide a base reference or pass in a patch");return m(void 0,void 0,b,a)}return a}function F(a){return a.newFileName&&a.newFileName!==a.oldFileName}function G(c,a,b){return a===b?a:(c.conflict=!0,{mine:a,theirs:b})}function H(a,b){return a.oldStart<b.oldStart&&a.oldStart+a.oldLines<b.oldStart}function I(a,b){return{oldStart:a.oldStart,oldLines:a.oldLines,newStart:a.newStart+b,newLines:a.newLines,lines:a.lines}}function J(c,l,m,n,o){var f,i,g,h,a={offset:l,lines:m,index:0},b={offset:n,lines:o,index:0};for(N(c,a,b),N(c,b,a);a.index<a.lines.length&&b.index<b.lines.length;){var j,k,d=a.lines[a.index],e=b.lines[b.index];("-"===d[0]||"+"===d[0])&&("-"===e[0]||"+"===e[0])?K(c,a,b):"+"===d[0]&&" "===e[0]?(j=c.lines).push.apply(j,v(P(a))):"+"===e[0]&&" "===d[0]?(k=c.lines).push.apply(k,v(P(b))):"-"===d[0]&&" "===e[0]?L(c,a,b):"-"===e[0]&&" "===d[0]?L(c,b,a,!0):d===e?(c.lines.push(d),a.index++,b.index++):M(c,P(a),P(b))}O(c,a),O(c,b),g=(i=T((f=c).lines)).oldLines,h=i.newLines,void 0!==g?f.oldLines=g:delete f.oldLines,void 0!==h?f.newLines=h:delete f.newLines}function K(c,f,g){var d,e,h,i,j,a=P(f),b=P(g);if(R(a)&&R(b)){if(D(a,b)&&S(g,a,a.length-b.length)){(h=c.lines).push.apply(h,v(a));return}if(D(b,a)&&S(f,b,b.length-a.length)){(i=c.lines).push.apply(i,v(b));return}}else if(d=a,e=b,d.length===e.length&&D(d,e)){(j=c.lines).push.apply(j,v(a));return}M(c,a,b)}function L(c,f,g,d){var e,b=P(f),a=Q(g,b);a.merged?(e=c.lines).push.apply(e,v(a.merged)):M(c,d?a:b,d?b:a)}function M(a,b,c){a.conflict=!0,a.lines.push({conflict:!0,mine:b,theirs:c})}function N(b,a,c){for(;a.offset<c.offset&&a.index<a.lines.length;){var d=a.lines[a.index++];b.lines.push(d),a.offset++}}function O(b,a){for(;a.index<a.lines.length;){var c=a.lines[a.index++];b.lines.push(c)}}function P(a){for(var d=[],b=a.lines[a.index][0];a.index<a.lines.length;){var c=a.lines[a.index];if("-"===b&&"+"===c[0]&&(b="+"),b===c[0])d.push(c),a.index++;else break}return d}function Q(a,d){for(var e=[],g=[],c=0,h=!1,f=!1;c<d.length&&a.index<a.lines.length;){var b=a.lines[a.index],i=d[c];if("+"===i[0])break;if(h=h||" "!==b[0],g.push(i),c++,"+"===b[0])for(f=!0;"+"===b[0];)e.push(b),b=a.lines[++a.index];i.substr(1)===b.substr(1)?(e.push(b),a.index++):f=!0}if("+"===(d[c]||"")[0]&&h&&(f=!0),f)return e;for(;c<d.length;)g.push(d[c++]);return{merged:g,changes:e}}function R(a){return a.reduce(function(a,b){return a&&"-"===b[0]},!0)}function S(b,d,c){for(var a=0;a<c;a++){var e=d[d.length-c+a].substr(1);if(b.lines[b.index+a]!==" "+e)return!1}return b.index+=c,!0}function T(a){var b=0,c=0;return a.forEach(function(a){if("string"!=typeof a){var d=T(a.mine),e=T(a.theirs);void 0!==b&&(d.oldLines===e.oldLines?b+=d.oldLines:b=void 0),void 0!==c&&(d.newLines===e.newLines?c+=d.newLines:c=void 0)}else void 0!==c&&("+"===a[0]||" "===a[0])&&c++,void 0!==b&&("-"===a[0]||" "===a[0])&&b++}),{oldLines:b,newLines:c}}function U(b){var a=b;return(a=(a=(a=a.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}d.tokenize=function(a){return a.slice()},d.join=d.removeEmpty=function(a){return a},a.Diff=b,a.applyPatch=l,a.applyPatches=function(a,c){"string"==typeof a&&(a=k(a));var d=0;function b(){var e=a[d++];if(!e)return c.complete();c.loadFile(e,function(a,d){if(a)return c.complete(a);var f=l(d,e,c);c.patched(e,f,function(a){if(a)return c.complete(a);b()})})}b()},a.canonicalize=j,a.convertChangesToDMP=function(c){for(var a,d,e=[],b=0;b<c.length;b++)d=(a=c[b]).added?1:a.removed?-1:0,e.push([d,a.value]);return e},a.convertChangesToXML=function(d){for(var a=[],c=0;c<d.length;c++){var b=d[c];b.added?a.push("<ins>"):b.removed&&a.push("<del>"),a.push(U(b.value)),b.added?a.push("</ins>"):b.removed&&a.push("</del>")}return a.join("")},a.createPatch=function(a,b,c,d,e,f){return n(a,a,b,c,d,e,f)},a.createTwoFilesPatch=n,a.diffArrays=function(a,b,c){return d.diff(a,b,c)},a.diffChars=function(a,b,c){return q.diff(a,b,c)},a.diffCss=function(a,b,c){return i.diff(a,b,c)},a.diffJson=function(a,b,d){return c.diff(a,b,d)},a.diffLines=g,a.diffSentences=function(a,b,c){return h.diff(a,b,c)},a.diffTrimmedLines=function(a,b,c){var d=r(c,{ignoreWhitespace:!0});return f.diff(a,b,d)},a.diffWords=function(b,c,a){return a=r(a,{ignoreWhitespace:!0}),e.diff(b,c,a)},a.diffWordsWithSpace=function(a,b,c){return e.diff(a,b,c)},a.merge=function(b,c,j){b=E(b,j),c=E(c,j);var a={};(b.index||c.index)&&(a.index=b.index||c.index),(b.newFileName||c.newFileName)&&(F(b)?F(c)?(a.oldFileName=G(a,b.oldFileName,c.oldFileName),a.newFileName=G(a,b.newFileName,c.newFileName),a.oldHeader=G(a,b.oldHeader,c.oldHeader),a.newHeader=G(a,b.newHeader,c.newHeader)):(a.oldFileName=b.oldFileName,a.newFileName=b.newFileName,a.oldHeader=b.oldHeader,a.newHeader=b.newHeader):(a.oldFileName=c.oldFileName||b.oldFileName,a.newFileName=c.newFileName||b.newFileName,a.oldHeader=c.oldHeader||b.oldHeader,a.newHeader=c.newHeader||b.newHeader)),a.hunks=[];for(var f=0,g=0,h=0,i=0;f<b.hunks.length||g<c.hunks.length;){var d=b.hunks[f]||{oldStart:1/0},e=c.hunks[g]||{oldStart:1/0};if(H(d,e))a.hunks.push(I(d,h)),f++,i+=d.newLines-d.oldLines;else if(H(e,d))a.hunks.push(I(e,i)),g++,h+=e.newLines-e.oldLines;else{var k={oldStart:Math.min(d.oldStart,e.oldStart),oldLines:0,newStart:Math.min(d.newStart+h,e.oldStart+i),newLines:0,lines:[]};J(k,d.oldStart,d.lines,e.oldStart,e.lines),g++,f++,a.hunks.push(k)}}return a},a.parsePatch=k,a.structuredPatch=m,Object.defineProperty(a,"__esModule",{value:!0})});var __awaiter=this&&this.__awaiter||function(b,c,a,d){return new(a||(a=Promise))(function(f,g){function h(a){try{e(d.next(a))}catch(b){g(b)}}function i(a){try{e(d.throw(a))}catch(b){g(b)}}function e(b){var c;b.done?f(b.value):((c=b.value)instanceof a?c:new a(function(a){a(c)})).then(h,i)}e((d=d.apply(b,c||[])).next())})};function docReady(b){let a=function(){if(window.$){b();return}setTimeout(a,250)};"complete"===document.readyState||"interactive"===document.readyState?setTimeout(a,1):document.addEventListener("DOMContentLoaded",a)}define("lib/common",["require","exports","monaco-editor"],function(b,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.insertText=a.options=void 0,a.options={suggestionsLimit:1e4,maxParsedLineLength:1e4,locale:"en"},a.insertText=function(e,b,f,a,d){null!=a||(a=b),e.executeEdits(null,[{range:{startLineNumber:b.lineNumber,endLineNumber:b.lineNumber,startColumn:b.column,endColumn:b.column+(null!=d?d:0)},text:f},],[new c.Selection(a.lineNumber,a.column,a.lineNumber,a.column),])}}),define("lib/data",["require","exports","lib/common"],function(b,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.imports=a.getString=a.strings=a.snippetDictionary=a.environmentDictionary=a.commandDictionary=a.mathEnvironments=a.envStarCommands=a.envCommands=void 0,a.envCommands=["\\begin","\\end","\\envdef","\\newenvironment","\\newtheorem","\\renewenvironment",],a.envStarCommands=["\\newenvironment*","\\renewenvironment*","\\newtheorem*"],a.mathEnvironments=["align","align*","alignat","alignat*","cd","equation","equation*","gather","gather*","multline","multline*",],a.commandDictionary={"\\AA":{mode:"T"},"\\addtocounter":{mode:"MT",signature:"\\addtocounter{\u8BA1\u6570\u5668}{\u503C}"},"\\adef":{mode:"MT",signature:"\\adef<\u547D\u4EE4><\u53C2\u6570>{\u5B9A\u4E49}"},"\\AE":{mode:"T"},"\\ae":{mode:"T"},"\\alet":{mode:"MT",signature:"\\alet<\u547D\u4EE4><\u547D\u4EE4>"},"\\Alph":{mode:"MT",signature:"\\Alph{\u8BA1\u6570\u5668}"},"\\alph":{mode:"MT",signature:"\\alph{\u8BA1\u6570\u5668}"},"\\ar":{mode:"M",signature:"\\ar[\u9009\u9879]"},"\\arabic":{mode:"MT",signature:"\\arabic{\u8BA1\u6570\u5668}"},"\\backslash":{mode:"MT"},"\\begin":{mode:"MT",insertText:"\\begin{",signature:"\\begin{\u73AF\u5883}"},"\\begingroup":{mode:"MT"},"\\bf":{mode:"T"},"\\bibitem":{mode:"T",signature:"\\bibitem[\u7F16\u53F7]{\u6807\u7B7E}"},"\\bullet":{mode:"MT"},"\\c":{mode:"T",signature:"\\c{}"},"\\cite":{mode:"T",signature:"\\cite[\u5185\u5BB9]{\u6807\u7B7E}"},"\\code":{mode:"T",signature:"\\code{\u4EE3\u7801}"},"\\codeblock":{mode:"T",signature:"\\codeblock{\u4EE3\u7801}"},"\\color":{mode:"T",signature:"\\color{\u989C\u8272\u4EE3\u7801}"},"\\colour":{mode:"T",signature:"\\colour{\u989C\u8272\u4EE3\u7801}"},"\\corollaryname":{mode:"MT"},"\\dagger":{mode:"MT"},"\\ddagger":{mode:"MT"},"\\def":{mode:"MT",signature:"\\def<\u547D\u4EE4><\u53C2\u6570>{\u5B9A\u4E49}"},"\\definitionname":{mode:"MT"},"\\edef":{mode:"MT",signature:"\\edef<\u547D\u4EE4><\u53C2\u6570>{\u5B9A\u4E49}"},"\\em":{mode:"T"},"\\emph":{mode:"T",signature:"\\emph{\u6587\u5B57}"},"\\end":{mode:"MT",signature:"\\end{\u73AF\u5883}"},"\\endgroup":{mode:"MT"},"\\english":{mode:"MT",signature:"\\english[]"},"\\envadef":{mode:"MT",signature:"\\envadef{\u73AF\u5883}{\u53C2\u6570}{\u5F00\u59CB}{\u7ED3\u675F}"},"\\envdef":{mode:"MT",signature:"\\envdef{\u73AF\u5883}{\u53C2\u6570}{\u5F00\u59CB}{\u7ED3\u675F}"},"\\envpdef":{mode:"MT",signature:"\\envpdef{\u73AF\u5883}{\u53C2\u6570}{\u5F00\u59CB}{\u7ED3\u675F}"},"\\eqno":{mode:"M"},"\\eqref":{mode:"T",signature:"\\eqref{}"},"\\floatright":{mode:"T",signature:"\\floatright{\u5185\u5BB9}"},"\\gdef":{mode:"MT",signature:"\\gdef<\u547D\u4EE4><\u53C2\u6570>{\u5B9A\u4E49}"},"\\glet":{mode:"MT",signature:"\\glet<\u547D\u4EE4><\u547D\u4EE4>"},"\\H":{mode:"T",signature:"\\H{}"},"\\href":{mode:"T",signature:"\\href{\u94FE\u63A5}{\u6587\u5B57}"},"\\i":{mode:"MT"},"\\it":{mode:"T"},"\\item":{mode:"T",signature:"\\item[\u7F16\u53F7]"},"\\j":{mode:"MT"},"\\l":{mode:"T"},"\\L":{mode:"T"},"\\label":{mode:"T",signature:"\\label{\u6807\u7B7E}"},"\\lang":{mode:"T",signature:"\\lang{\u8BED\u8A00\u4EE3\u7801}{\u6587\u5B57}"},"\\lemmaname":{mode:"T"},"\\leqno":{mode:"M"},"\\let":{mode:"MT",signature:"\\let<\u547D\u4EE4><\u547D\u4EE4>"},"\\md":{mode:"T"},"\\newcommand":{mode:"MT",signature:"\\newcommand<\u547D\u4EE4>[\u53C2\u6570]{\u5B9A\u4E49}"},"\\newcounter":{mode:"MT",signature:"\\newcounter[\u8BA1\u6570\u5668]"},"\\newenvironment":{mode:"MT",signature:"\\newenvironment{\u73AF\u5883}[\u53C2\u6570]{\u5F00\u59CB}{\u7ED3\u675F}"},"\\newtheorem":{mode:"MT",signature:"\\newtheorem{\u73AF\u5883}{\u540D\u79F0}"},"\\notoc":{mode:"T"},"\\nosectionnumbers":{mode:"T"},"\\numbersections":{mode:"T"},"\\numbersubsections":{mode:"T"},"\\numbersubsubsections":{mode:"T"},"\\numberwithin":{mode:"MT",signature:"\\numberwithin{\u5B50\u8BA1\u6570\u5668}{\u7236\u8BA1\u6570\u5668}"},"\\o":{mode:"T"},"\\O":{mode:"T"},"\\oe":{mode:"T"},"\\OE":{mode:"T"},"\\operatornamewithlimits":{mode:"M",signature:"\\operatornamewithlimits{\u6587\u5B57}"},"\\par":{mode:"T"},"\\pdef":{mode:"MT",signature:"\\pdef<\u547D\u4EE4><\u53C2\u6570>{\u5B9A\u4E49}"},"\\plet":{mode:"MT",signature:"\\plet<\u547D\u4EE4><\u547D\u4EE4>"},"\\proofname":{mode:"T"},"\\propositionname":{mode:"T"},"\\qed":{mode:"T"},"\\qedhere":{mode:"MT"},"\\qedsymbol":{mode:"T"},"\\qquad":{mode:"T"},"\\quad":{mode:"T"},"\\r":{mode:"T",signature:"\\r{}"},"\\ref":{mode:"MT",signature:"\\ref{\u6807\u7B7E}"},"\\refname":{mode:"T"},"\\refstepcounter":{mode:"MT",signature:"\\refstepcounter{\u8BA1\u6570\u5668}"},"\\remarkname":{mode:"T"},"\\renewcommand":{mode:"MT",signature:"\\renewcommand<\u547D\u4EE4>[\u53C2\u6570]{\u5B9A\u4E49}"},"\\renewenvironment":{mode:"MT",signature:"\\renewenvironment{\u73AF\u5883}[\u53C2\u6570]{\u5F00\u59CB}{\u7ED3\u675F}"},"\\reqno":{mode:"M"},"\\rm":{mode:"T"},"\\Roman":{mode:"MT",signature:"\\Roman{\u8BA1\u6570\u5668}"},"\\roman":{mode:"MT",signature:"\\roman{\u8BA1\u6570\u5668}"},"\\S":{mode:"T"},"\\section":{mode:"T",signature:"\\section{\u6807\u9898}"},"\\setcounter":{mode:"MT",signature:"\\setcounter{\u8BA1\u6570\u5668}"},"\\setdisplaytitle":{mode:"T",signature:"\\setdisplaytitle{\u6587\u5B57}"},"\\sethtmltitle":{mode:"T",signature:"\\sethtmltitle{\u6587\u5B57}"},"\\setlanguage":{mode:"T",signature:"\\setlanguage{\u8BED\u8A00\u4EE3\u7801}"},"\\size":{mode:"T",signature:"\\size{\u5927\u5C0F}"},"\\ss":{mode:"T"},"\\SS":{mode:"T"},"\\stepcounter":{mode:"T",signature:"\\stepcounter{\u8BA1\u6570\u5668}"},"\\subpage":{mode:"T",signature:"\\subpage[\u7F16\u53F7]{\u9875\u6807\u9898}[\u6587\u5B57]"},"\\subsection":{mode:"T",signature:"\\subsection{\u6807\u9898}"},"\\subsubpage":{mode:"T",signature:"\\subsubpage[\u7F16\u53F7]{\u9875\u6807\u9898}[\u6587\u5B57]"},"\\subsubsection":{mode:"T",signature:"\\subsubsection{\u6807\u9898}"},"\\subsubsubpage":{mode:"T",signature:"\\subsubsubpage[\u7F16\u53F7]{\u9875\u6807\u9898}[\u6587\u5B57]"},"\\tdef":{mode:"MT",signature:"\\tdef<\u547D\u4EE4><\u53C2\u6570>{\u5B9A\u4E49}"},"\\textbf":{mode:"MT",signature:"\\textbf{\u6587\u5B57}"},"\\textcolor":{mode:"T",signature:"\\textcolor{\u989C\u8272}{\u6587\u5B57}"},"\\textcolour":{mode:"T",signature:"\\textcolour{\u989C\u8272}{\u6587\u5B57}"},"\\textit":{mode:"MT",signature:"\\textit{\u6587\u5B57}"},"\\textmd":{mode:"MT",signature:"\\textmd{\u6587\u5B57}"},"\\textrm":{mode:"MT",signature:"\\textrm{\u6587\u5B57}"},"\\textsize":{mode:"T",signature:"\\textsize{\u5927\u5C0F}{\u6587\u5B57}"},"\\thmprefix":{mode:"T"},"\\tikz":{mode:"T",signature:"\\tikz{\u4EE3\u7801}"},"\\tlet":{mode:"MT",signature:"\\tlet<\u547D\u4EE4><\u547D\u4EE4>"},"\\tocname":{mode:"T"},"\\u":{mode:"T",signature:"\\u{}"},"\\url":{mode:"T",signature:"\\url{\u94FE\u63A5}"},"\\v":{mode:"T",signature:"\\v{}"},"\\xeqno":{mode:"M"},"\\above":{mode:"M"},"\\acute":{mode:"M"},"\\alef":{mode:"M"},"\\alefsym":{mode:"M"},"\\aleph":{mode:"M"},"\\allowbreak":{mode:"M"},"\\Alpha":{mode:"M"},"\\alpha":{mode:"M"},"\\amalg":{mode:"M"},"\\And":{mode:"M"},"\\angle":{mode:"M"},"\\approx":{mode:"M"},"\\approxeq":{mode:"M"},"\\arccos":{mode:"M"},"\\arcctg":{mode:"M"},"\\arcsin":{mode:"M"},"\\arctan":{mode:"M"},"\\arctg":{mode:"M"},"\\arg":{mode:"M"},"\\argmax":{mode:"M"},"\\argmin":{mode:"M"},"\\ast":{mode:"M"},"\\asymp":{mode:"M"},"\\atop":{mode:"M"},"\\backepsilon":{mode:"M"},"\\backprime":{mode:"M"},"\\backsim":{mode:"M"},"\\backsimeq":{mode:"M"},"\\bar":{mode:"M"},"\\barwedge":{mode:"M"},"\\Bbb":{mode:"M"},"\\Bbbk":{mode:"M"},"\\bcancel":{mode:"M"},"\\because":{mode:"M"},"\\Beta":{mode:"M"},"\\beta":{mode:"M"},"\\beth":{mode:"M"},"\\between":{mode:"M"},"\\big":{mode:"M"},"\\Big":{mode:"M"},"\\bigcap":{mode:"M"},"\\bigcirc":{mode:"M"},"\\bigcup":{mode:"M"},"\\bigg":{mode:"M"},"\\Bigg":{mode:"M"},"\\biggl":{mode:"M"},"\\Biggl":{mode:"M"},"\\biggm":{mode:"M"},"\\Biggm":{mode:"M"},"\\biggr":{mode:"M"},"\\Biggr":{mode:"M"},"\\bigl":{mode:"M"},"\\Bigl":{mode:"M"},"\\bigm":{mode:"M"},"\\Bigm":{mode:"M"},"\\bigodot":{mode:"M"},"\\bigoplus":{mode:"M"},"\\bigotimes":{mode:"M"},"\\bigr":{mode:"M"},"\\Bigr":{mode:"M"},"\\bigsqcup":{mode:"M"},"\\bigstar":{mode:"M"},"\\bigtriangledown":{mode:"M"},"\\bigtriangleup":{mode:"M"},"\\biguplus":{mode:"M"},"\\bigvee":{mode:"M"},"\\bigwedge":{mode:"M"},"\\binom":{mode:"M"},"\\blacklozenge":{mode:"M"},"\\blacksquare":{mode:"M"},"\\blacktriangle":{mode:"M"},"\\blacktriangledown":{mode:"M"},"\\blacktriangleleft":{mode:"M"},"\\blacktriangleright":{mode:"M"},"\\bm":{mode:"M"},"\\bmod":{mode:"M"},"\\bold":{mode:"M"},"\\boldsymbol":{mode:"M"},"\\bot":{mode:"M"},"\\bowtie":{mode:"M"},"\\Box":{mode:"M"},"\\boxdot":{mode:"M"},"\\boxed":{mode:"M"},"\\boxminus":{mode:"M"},"\\boxplus":{mode:"M"},"\\boxtimes":{mode:"M"},"\\Bra":{mode:"M"},"\\bra":{mode:"M"},"\\braket":{mode:"M"},"\\brace":{mode:"M"},"\\brack":{mode:"M"},"\\breve":{mode:"M"},"\\bull":{mode:"M"},"\\Bumpeq":{mode:"M"},"\\bumpeq":{mode:"M"},"\\cal":{mode:"M"},"\\cancel":{mode:"M"},"\\Cap":{mode:"M"},"\\cap":{mode:"M"},"\\cdot":{mode:"M"},"\\cdotp":{mode:"M"},"\\cdots":{mode:"M"},"\\centerdot":{mode:"M"},"\\cfrac":{mode:"M"},"\\check":{mode:"M"},"\\ch":{mode:"M"},"\\checkmark":{mode:"M"},"\\Chi":{mode:"M"},"\\chi":{mode:"M"},"\\choose":{mode:"M"},"\\circ":{mode:"M"},"\\circeq":{mode:"M"},"\\circlearrowleft":{mode:"M"},"\\circlearrowright":{mode:"M"},"\\circledast":{mode:"M"},"\\circledcirc":{mode:"M"},"\\circleddash":{mode:"M"},"\\circledR":{mode:"M"},"\\circledS":{mode:"M"},"\\clubs":{mode:"M"},"\\clubsuit":{mode:"M"},"\\cnums":{mode:"M"},"\\colon":{mode:"M"},"\\Colonapprox":{mode:"M"},"\\colonapprox":{mode:"M"},"\\Coloneq":{mode:"M"},"\\coloneq":{mode:"M"},"\\Coloneqq":{mode:"M"},"\\coloneqq":{mode:"M"},"\\Colonsim":{mode:"M"},"\\colonsim":{mode:"M"},"\\colorbox":{mode:"M"},"\\complement":{mode:"M"},"\\Complex":{mode:"M"},"\\cong":{mode:"M"},"\\coprod":{mode:"M"},"\\copyright":{mode:"M"},"\\cos":{mode:"M"},"\\cosec":{mode:"M"},"\\cosh":{mode:"M"},"\\cot":{mode:"M"},"\\cotg":{mode:"M"},"\\coth":{mode:"M"},"\\cr":{mode:"M"},"\\csc":{mode:"M"},"\\ctg":{mode:"M"},"\\cth":{mode:"M"},"\\Cup":{mode:"M"},"\\cup":{mode:"M"},"\\curlyeqprec":{mode:"M"},"\\curlyeqsucc":{mode:"M"},"\\curlyvee":{mode:"M"},"\\curlywedge":{mode:"M"},"\\curvearrowleft":{mode:"M"},"\\curvearrowright":{mode:"M"},"\\dag":{mode:"M"},"\\Dagger":{mode:"M"},"\\daleth":{mode:"M"},"\\Darr":{mode:"M"},"\\dArr":{mode:"M"},"\\darr":{mode:"M"},"\\dashleftarrow":{mode:"M"},"\\dashrightarrow":{mode:"M"},"\\dashv":{mode:"M"},"\\dbinom":{mode:"M"},"\\dblcolon":{mode:"M"},"\\ddag":{mode:"M"},"\\ddot":{mode:"M"},"\\ddots":{mode:"M"},"\\deg":{mode:"M"},"\\degree":{mode:"M"},"\\delta":{mode:"M"},"\\Delta":{mode:"M"},"\\det":{mode:"M"},"\\digamma":{mode:"M"},"\\dfrac":{mode:"M"},"\\diagdown":{mode:"M"},"\\diagup":{mode:"M"},"\\Diamond":{mode:"M"},"\\diamond":{mode:"M"},"\\diamonds":{mode:"M"},"\\diamondsuit":{mode:"M"},"\\dim":{mode:"M"},"\\displaystyle":{mode:"M"},"\\div":{mode:"M"},"\\divideontimes":{mode:"M"},"\\dot":{mode:"M"},"\\Doteq":{mode:"M"},"\\doteq":{mode:"M"},"\\doteqdot":{mode:"M"},"\\dotplus":{mode:"M"},"\\dots":{mode:"M"},"\\dotsb":{mode:"M"},"\\dotsc":{mode:"M"},"\\dotsi":{mode:"M"},"\\dotsm":{mode:"M"},"\\dotso":{mode:"M"},"\\doublebarwedge":{mode:"M"},"\\doublecap":{mode:"M"},"\\doublecup":{mode:"M"},"\\Downarrow":{mode:"M"},"\\downarrow":{mode:"M"},"\\downdownarrows":{mode:"M"},"\\downharpoonleft":{mode:"M"},"\\downharpoonright":{mode:"M"},"\\ell":{mode:"M"},"\\empty":{mode:"M"},"\\emptyset":{mode:"M"},"\\enspace":{mode:"M"},"\\Epsilon":{mode:"M"},"\\epsilon":{mode:"M"},"\\eqcirc":{mode:"M"},"\\Eqcolon":{mode:"M"},"\\eqcolon":{mode:"M"},"\\Eqqcolon":{mode:"M"},"\\eqqcolon":{mode:"M"},"\\eqsim":{mode:"M"},"\\eqslantgtr":{mode:"M"},"\\eqslantless":{mode:"M"},"\\equiv":{mode:"M"},"\\Eta":{mode:"M"},"\\eta":{mode:"M"},"\\eth":{mode:"M"},"\\exist":{mode:"M"},"\\exists":{mode:"M"},"\\exp":{mode:"M"},"\\expandafter":{mode:"M"},"\\fallingdotseq":{mode:"M"},"\\fbox":{mode:"M"},"\\fcolorbox":{mode:"M"},"\\Finv":{mode:"M"},"\\flat":{mode:"M"},"\\footnotesize":{mode:"M"},"\\forall":{mode:"M"},"\\frac":{mode:"M"},"\\frak":{mode:"M"},"\\frown":{mode:"M"},"\\futurelet":{mode:"M"},"\\Game":{mode:"M"},"\\Gamma":{mode:"M"},"\\gamma":{mode:"M"},"\\gcd":{mode:"M"},"\\ge":{mode:"M"},"\\genfrac":{mode:"M"},"\\geq":{mode:"M"},"\\geqq":{mode:"M"},"\\geqslant":{mode:"M"},"\\gets":{mode:"M"},"\\gg":{mode:"M"},"\\ggg":{mode:"M"},"\\gggtr":{mode:"M"},"\\gimel":{mode:"M"},"\\global":{mode:"M"},"\\gnapprox":{mode:"M"},"\\gneq":{mode:"M"},"\\gneqq":{mode:"M"},"\\gnsim":{mode:"M"},"\\grave":{mode:"M"},"\\gt":{mode:"M"},"\\gtrdot":{mode:"M"},"\\gtrapprox":{mode:"M"},"\\gtreqless":{mode:"M"},"\\gtreqqless":{mode:"M"},"\\gtrless":{mode:"M"},"\\gtrsim":{mode:"M"},"\\gvertneqq":{mode:"M"},"\\Harr":{mode:"M"},"\\hArr":{mode:"M"},"\\harr":{mode:"M"},"\\hat":{mode:"M"},"\\hbar":{mode:"M"},"\\hdashline":{mode:"M"},"\\hearts":{mode:"M"},"\\heartsuit":{mode:"M"},"\\hline":{mode:"M"},"\\hom":{mode:"M"},"\\hookleftarrow":{mode:"M"},"\\hookrightarrow":{mode:"M"},"\\hphantom":{mode:"M"},"\\hskip":{mode:"M"},"\\hslash":{mode:"M"},"\\hspace":{mode:"M"},"\\htmlClass":{mode:"M"},"\\htmlData":{mode:"M"},"\\htmlId":{mode:"M"},"\\htmlStyle":{mode:"M"},"\\huge":{mode:"M"},"\\Huge":{mode:"M"},"\\iff":{mode:"M"},"\\iiint":{mode:"M"},"\\iint":{mode:"M"},"\\Im":{mode:"M"},"\\image":{mode:"M"},"\\imath":{mode:"M"},"\\impliedby":{mode:"M"},"\\implies":{mode:"M"},"\\in":{mode:"M"},"\\inf":{mode:"M"},"\\infin":{mode:"M"},"\\infty":{mode:"M"},"\\int":{mode:"M"},"\\intercal":{mode:"M"},"\\intop":{mode:"M"},"\\Iota":{mode:"M"},"\\iota":{mode:"M"},"\\isin":{mode:"M"},"\\jmath":{mode:"M"},"\\Join":{mode:"M"},"\\Kappa":{mode:"M"},"\\kappa":{mode:"M"},"\\KaTeX":{mode:"M"},"\\ker":{mode:"M"},"\\kern":{mode:"M"},"\\Ket":{mode:"M"},"\\ket":{mode:"M"},"\\Lambda":{mode:"M"},"\\lambda":{mode:"M"},"\\land":{mode:"M"},"\\langle":{mode:"M"},"\\Larr":{mode:"M"},"\\lArr":{mode:"M"},"\\larr":{mode:"M"},"\\large":{mode:"M"},"\\Large":{mode:"M"},"\\LARGE":{mode:"M"},"\\LaTeX":{mode:"M"},"\\lBrace":{mode:"M"},"\\lbrace":{mode:"M"},"\\lbrack":{mode:"M"},"\\lceil":{mode:"M"},"\\ldotp":{mode:"M"},"\\ldots":{mode:"M"},"\\le":{mode:"M"},"\\leadsto":{mode:"M"},"\\left":{mode:"M"},"\\leftarrow":{mode:"M"},"\\Leftarrow":{mode:"M"},"\\leftharpoondown":{mode:"M"},"\\leftharpoonup":{mode:"M"},"\\leftleftarrows":{mode:"M"},"\\Leftrightarrow":{mode:"M"},"\\leftrightarrow":{mode:"M"},"\\leftrightarrows":{mode:"M"},"\\leftrightharpoons":{mode:"M"},"\\leftrightsquigarrow":{mode:"M"},"\\leftthreetimes":{mode:"M"},"\\leq":{mode:"M"},"\\leqq":{mode:"M"},"\\leqslant":{mode:"M"},"\\lessapprox":{mode:"M"},"\\lessdot":{mode:"M"},"\\lesseqgtr":{mode:"M"},"\\lesseqqgtr":{mode:"M"},"\\lessgtr":{mode:"M"},"\\lesssim":{mode:"M"},"\\lfloor":{mode:"M"},"\\lg":{mode:"M"},"\\lgroup":{mode:"M"},"\\lhd":{mode:"M"},"\\lim":{mode:"M"},"\\liminf":{mode:"M"},"\\limits":{mode:"M"},"\\limsup":{mode:"M"},"\\ll":{mode:"M"},"\\llap":{mode:"M"},"\\llbracket":{mode:"M"},"\\llcorner":{mode:"M"},"\\Lleftarrow":{mode:"M"},"\\lll":{mode:"M"},"\\llless":{mode:"M"},"\\lmoustache":{mode:"M"},"\\ln":{mode:"M"},"\\lnapprox":{mode:"M"},"\\lneq":{mode:"M"},"\\lneqq":{mode:"M"},"\\lnot":{mode:"M"},"\\lnsim":{mode:"M"},"\\log":{mode:"M"},"\\long":{mode:"M"},"\\Longleftarrow":{mode:"M"},"\\longleftarrow":{mode:"M"},"\\Longleftrightarrow":{mode:"M"},"\\longleftrightarrow":{mode:"M"},"\\longmapsto":{mode:"M"},"\\Longrightarrow":{mode:"M"},"\\longrightarrow":{mode:"M"},"\\looparrowleft":{mode:"M"},"\\looparrowright":{mode:"M"},"\\lor":{mode:"M"},"\\lozenge":{mode:"M"},"\\lparen":{mode:"M"},"\\Lrarr":{mode:"M"},"\\lrArr":{mode:"M"},"\\lrarr":{mode:"M"},"\\lrcorner":{mode:"M"},"\\lq":{mode:"M"},"\\Lsh":{mode:"M"},"\\lt":{mode:"M"},"\\ltimes":{mode:"M"},"\\lVert":{mode:"M"},"\\lvert":{mode:"M"},"\\lvertneqq":{mode:"M"},"\\maltese":{mode:"M"},"\\mapsto":{mode:"M"},"\\mathbb":{mode:"M"},"\\mathbf":{mode:"M"},"\\mathbin":{mode:"M"},"\\mathcal":{mode:"M"},"\\mathchoice":{mode:"M"},"\\mathclap":{mode:"M"},"\\mathclose":{mode:"M"},"\\mathellipsis":{mode:"M"},"\\mathfrak":{mode:"M"},"\\mathinner":{mode:"M"},"\\mathit":{mode:"M"},"\\mathllap":{mode:"M"},"\\mathnormal":{mode:"M"},"\\mathop":{mode:"M"},"\\mathopen":{mode:"M"},"\\mathord":{mode:"M"},"\\mathpunct":{mode:"M"},"\\mathrel":{mode:"M"},"\\mathrlap":{mode:"M"},"\\mathring":{mode:"M"},"\\mathrm":{mode:"M"},"\\mathscr":{mode:"M"},"\\mathsf":{mode:"M"},"\\mathsterling":{mode:"M"},"\\mathtt":{mode:"M"},"\\max":{mode:"M"},"\\measuredangle":{mode:"M"},"\\medspace":{mode:"M"},"\\mho":{mode:"M"},"\\mid":{mode:"M"},"\\middle":{mode:"M"},"\\min":{mode:"M"},"\\minuso":{mode:"M"},"\\mkern":{mode:"M"},"\\mod":{mode:"M"},"\\models":{mode:"M"},"\\mp":{mode:"M"},"\\mskip":{mode:"M"},"\\Mu":{mode:"M"},"\\mu":{mode:"M"},"\\multimap":{mode:"M"},"\\N":{mode:"M"},"\\nabla":{mode:"M"},"\\natnums":{mode:"M"},"\\natural":{mode:"M"},"\\negmedspace":{mode:"M"},"\\ncong":{mode:"M"},"\\ne":{mode:"M"},"\\nearrow":{mode:"M"},"\\neg":{mode:"M"},"\\negthickspace":{mode:"M"},"\\negthinspace":{mode:"M"},"\\neq":{mode:"M"},"\\newline":{mode:"M"},"\\nexists":{mode:"M"},"\\ngeq":{mode:"M"},"\\ngeqq":{mode:"M"},"\\ngeqslant":{mode:"M"},"\\ngtr":{mode:"M"},"\\ni":{mode:"M"},"\\nleftarrow":{mode:"M"},"\\nLeftarrow":{mode:"M"},"\\nLeftrightarrow":{mode:"M"},"\\nleftrightarrow":{mode:"M"},"\\nleq":{mode:"M"},"\\nleqq":{mode:"M"},"\\nleqslant":{mode:"M"},"\\nless":{mode:"M"},"\\nmid":{mode:"M"},"\\nobreak":{mode:"M"},"\\nobreakspace":{mode:"M"},"\\noexpand":{mode:"M"},"\\nolimits":{mode:"M"},"\\normalsize":{mode:"M"},"\\not":{mode:"M"},"\\notin":{mode:"M"},"\\notni":{mode:"M"},"\\nparallel":{mode:"M"},"\\nprec":{mode:"M"},"\\npreceq":{mode:"M"},"\\nRightarrow":{mode:"M"},"\\nrightarrow":{mode:"M"},"\\nshortmid":{mode:"M"},"\\nshortparallel":{mode:"M"},"\\nsim":{mode:"M"},"\\nsubseteq":{mode:"M"},"\\nsubseteqq":{mode:"M"},"\\nsucc":{mode:"M"},"\\nsucceq":{mode:"M"},"\\nsupseteq":{mode:"M"},"\\nsupseteqq":{mode:"M"},"\\ntriangleleft":{mode:"M"},"\\ntrianglelefteq":{mode:"M"},"\\ntriangleright":{mode:"M"},"\\ntrianglerighteq":{mode:"M"},"\\Nu":{mode:"M"},"\\nu":{mode:"M"},"\\nVDash":{mode:"M"},"\\nVdash":{mode:"M"},"\\nvDash":{mode:"M"},"\\nvdash":{mode:"M"},"\\nwarrow":{mode:"M"},"\\odot":{mode:"M"},"\\oiiint":{mode:"M"},"\\oiint":{mode:"M"},"\\oint":{mode:"M"},"\\omega":{mode:"M"},"\\Omega":{mode:"M"},"\\Omicron":{mode:"M"},"\\omicron":{mode:"M"},"\\ominus":{mode:"M"},"\\operatorname":{mode:"M"},"\\oplus":{mode:"M"},"\\oslash":{mode:"M"},"\\otimes":{mode:"M"},"\\over":{mode:"M"},"\\overbrace":{mode:"M"},"\\overgroup":{mode:"M"},"\\overleftarrow":{mode:"M"},"\\overleftharpoon":{mode:"M"},"\\overleftrightarrow":{mode:"M"},"\\overline":{mode:"M"},"\\overlinesegment":{mode:"M"},"\\Overrightarrow":{mode:"M"},"\\overrightarrow":{mode:"M"},"\\overrightharpoon":{mode:"M"},"\\overset":{mode:"M"},"\\owns":{mode:"M"},"\\P":{mode:"M"},"\\parallel":{mode:"M"},"\\partial":{mode:"M"},"\\perp":{mode:"M"},"\\phantom":{mode:"M"},"\\Phi":{mode:"M"},"\\phi":{mode:"M"},"\\Pi":{mode:"M"},"\\pi":{mode:"M"},"\\pitchfork":{mode:"M"},"\\plim":{mode:"M"},"\\plusmn":{mode:"M"},"\\pm":{mode:"M"},"\\pmb":{mode:"M"},"\\pmod":{mode:"M"},"\\pod":{mode:"M"},"\\pounds":{mode:"M"},"\\Pr":{mode:"M"},"\\prec":{mode:"M"},"\\precapprox":{mode:"M"},"\\preccurlyeq":{mode:"M"},"\\preceq":{mode:"M"},"\\precnapprox":{mode:"M"},"\\precneqq":{mode:"M"},"\\precnsim":{mode:"M"},"\\precsim":{mode:"M"},"\\prime":{mode:"M"},"\\prod":{mode:"M"},"\\propto":{mode:"M"},"\\providecommand":{mode:"M"},"\\psi":{mode:"M"},"\\Psi":{mode:"M"},"\\R":{mode:"M"},"\\raisebox":{mode:"M"},"\\rang":{mode:"M"},"\\rangle":{mode:"M"},"\\Rarr":{mode:"M"},"\\rArr":{mode:"M"},"\\rarr":{mode:"M"},"\\rBrace":{mode:"M"},"\\rbrace":{mode:"M"},"\\rbrack":{mode:"M"},"\\rceil":{mode:"M"},"\\Re":{mode:"M"},"\\real":{mode:"M"},"\\Reals":{mode:"M"},"\\reals":{mode:"M"},"\\relax":{mode:"M"},"\\hail":{mode:"M"},"\\restriction":{mode:"M"},"\\rfloor":{mode:"M"},"\\rgroup":{mode:"M"},"\\rhd":{mode:"M"},"\\Rho":{mode:"M"},"\\rho":{mode:"M"},"\\right":{mode:"M"},"\\Rightarrow":{mode:"M"},"\\rightarrow":{mode:"M"},"\\rightarrowtail":{mode:"M"},"\\rightharpoondown":{mode:"M"},"\\rightharpoonup":{mode:"M"},"\\rightleftarrows":{mode:"M"},"\\rightleftharpoons":{mode:"M"},"\\rightrightarrows":{mode:"M"},"\\rightsquigarrow":{mode:"M"},"\\rightthreetimes":{mode:"M"},"\\risingdotseq":{mode:"M"},"\\rlap":{mode:"M"},"\\rmoustache":{mode:"M"},"\\rparen":{mode:"M"},"\\rq":{mode:"M"},"\\rrbracket":{mode:"M"},"\\Rrightarrow":{mode:"M"},"\\Rsh":{mode:"M"},"\\rtimes":{mode:"M"},"\\rule":{mode:"M"},"\\rVert":{mode:"M"},"\\rvert":{mode:"M"},"\\scriptscriptstyle":{mode:"M"},"\\scriptsize":{mode:"M"},"\\scriptstyle":{mode:"M"},"\\sdot":{mode:"M"},"\\searrow":{mode:"M"},"\\sec":{mode:"M"},"\\sect":{mode:"M"},"\\setminus":{mode:"M"},"\\sf":{mode:"M"},"\\sharp":{mode:"M"},"\\shortmid":{mode:"M"},"\\shortparallel":{mode:"M"},"\\Sigma":{mode:"M"},"\\sigma":{mode:"M"},"\\sim":{mode:"M"},"\\simeq":{mode:"M"},"\\sin":{mode:"M"},"\\sinh":{mode:"M"},"\\sixptsize":{mode:"M"},"\\sh":{mode:"M"},"\\small":{mode:"M"},"\\smallfrown":{mode:"M"},"\\smallint":{mode:"M"},"\\smallsetminus":{mode:"M"},"\\smallsmile":{mode:"M"},"\\smash":{mode:"M"},"\\smile":{mode:"M"},"\\sout":{mode:"M"},"\\space":{mode:"M"},"\\spades":{mode:"M"},"\\spadesuit":{mode:"M"},"\\sphericalangle":{mode:"M"},"\\sqcap":{mode:"M"},"\\sqcup":{mode:"M"},"\\square":{mode:"M"},"\\sqrt":{mode:"M"},"\\sqsubset":{mode:"M"},"\\sqsubseteq":{mode:"M"},"\\sqsupset":{mode:"M"},"\\sqsupseteq":{mode:"M"},"\\stackrel":{mode:"M"},"\\star":{mode:"M"},"\\sub":{mode:"M"},"\\sube":{mode:"M"},"\\Subset":{mode:"M"},"\\subset":{mode:"M"},"\\subseteq":{mode:"M"},"\\subseteqq":{mode:"M"},"\\subsetneq":{mode:"M"},"\\subsetneqq":{mode:"M"},"\\substack":{mode:"M"},"\\succ":{mode:"M"},"\\succapprox":{mode:"M"},"\\succcurlyeq":{mode:"M"},"\\succeq":{mode:"M"},"\\succnapprox":{mode:"M"},"\\succneqq":{mode:"M"},"\\succnsim":{mode:"M"},"\\succsim":{mode:"M"},"\\sum":{mode:"M"},"\\sup":{mode:"M"},"\\supe":{mode:"M"},"\\Supset":{mode:"M"},"\\supset":{mode:"M"},"\\supseteq":{mode:"M"},"\\supseteqq":{mode:"M"},"\\supsetneq":{mode:"M"},"\\supsetneqq":{mode:"M"},"\\surd":{mode:"M"},"\\swarrow":{mode:"M"},"\\tag":{mode:"M"},"\\tan":{mode:"M"},"\\tanh":{mode:"M"},"\\Tau":{mode:"M"},"\\tau":{mode:"M"},"\\tbinom":{mode:"M"},"\\TeX":{mode:"M"},"\\text":{mode:"M"},"\\tfrac":{mode:"M"},"\\tg":{mode:"M"},"\\th":{mode:"M"},"\\therefore":{mode:"M"},"\\Theta":{mode:"M"},"\\theta":{mode:"M"},"\\thetasym":{mode:"M"},"\\thickapprox":{mode:"M"},"\\thicksim":{mode:"M"},"\\thickspace":{mode:"M"},"\\thinspace":{mode:"M"},"\\tilde":{mode:"M"},"\\times":{mode:"M"},"\\tiny":{mode:"M"},"\\to":{mode:"M"},"\\top":{mode:"M"},"\\triangle":{mode:"M"},"\\triangledown":{mode:"M"},"\\triangleleft":{mode:"M"},"\\trianglelefteq":{mode:"M"},"\\triangleq":{mode:"M"},"\\triangleright":{mode:"M"},"\\trianglerighteq":{mode:"M"},"\\tt":{mode:"M"},"\\twoheadleftarrow":{mode:"M"},"\\twoheadrightarrow":{mode:"M"},"\\Uarr":{mode:"M"},"\\uArr":{mode:"M"},"\\uarr":{mode:"M"},"\\ulcorner":{mode:"M"},"\\underbrace":{mode:"M"},"\\undergroup":{mode:"M"},"\\underleftarrow":{mode:"M"},"\\underleftrightarrow":{mode:"M"},"\\underline":{mode:"M"},"\\underlinesegment":{mode:"M"},"\\underrightarrow":{mode:"M"},"\\underset":{mode:"M"},"\\unlhd":{mode:"M"},"\\unrhd":{mode:"M"},"\\Uparrow":{mode:"M"},"\\uparrow":{mode:"M"},"\\Updownarrow":{mode:"M"},"\\updownarrow":{mode:"M"},"\\upharpoonleft":{mode:"M"},"\\upharpoonright":{mode:"M"},"\\uplus":{mode:"M"},"\\Upsilon":{mode:"M"},"\\upsilon":{mode:"M"},"\\upuparrows":{mode:"M"},"\\urcorner":{mode:"M"},"\\utilde":{mode:"M"},"\\varDelta":{mode:"M"},"\\varepsilon":{mode:"M"},"\\varGamma":{mode:"M"},"\\varkappa":{mode:"M"},"\\varLambda":{mode:"M"},"\\varnothing":{mode:"M"},"\\varOmega":{mode:"M"},"\\varPhi":{mode:"M"},"\\varphi":{mode:"M"},"\\varPi":{mode:"M"},"\\varpi":{mode:"M"},"\\varpropto":{mode:"M"},"\\varPsi":{mode:"M"},"\\varrho":{mode:"M"},"\\varSigma":{mode:"M"},"\\varsigma":{mode:"M"},"\\varsubsetneq":{mode:"M"},"\\varsubsetneqq":{mode:"M"},"\\varsupsetneq":{mode:"M"},"\\varsupsetneqq":{mode:"M"},"\\varTheta":{mode:"M"},"\\vartheta":{mode:"M"},"\\vartriangle":{mode:"M"},"\\vartriangleleft":{mode:"M"},"\\vartriangleright":{mode:"M"},"\\varUpsilon":{mode:"M"},"\\varXi":{mode:"M"},"\\vcentcolon":{mode:"M"},"\\Vdash":{mode:"M"},"\\vDash":{mode:"M"},"\\vdash":{mode:"M"},"\\vdots":{mode:"M"},"\\vec":{mode:"M"},"\\vee":{mode:"M"},"\\veebar":{mode:"M"},"\\verb":{mode:"M"},"\\Vert":{mode:"M"},"\\vert":{mode:"M"},"\\vphantom":{mode:"M"},"\\Vvdash":{mode:"M"},"\\wedge":{mode:"M"},"\\weierp":{mode:"M"},"\\widecheck":{mode:"M"},"\\widehat":{mode:"M"},"\\widetilde":{mode:"M"},"\\wp":{mode:"M"},"\\wr":{mode:"M"},"\\xcancel":{mode:"M"},"\\xdef":{mode:"M"},"\\Xi":{mode:"M"},"\\xi":{mode:"M"},"\\xhookleftarrow":{mode:"M"},"\\xhookrightarrow":{mode:"M"},"\\xLeftarrow":{mode:"M"},"\\xleftarrow":{mode:"M"},"\\xleftharpoondown":{mode:"M"},"\\xleftharpoonup":{mode:"M"},"\\xLeftrightarrow":{mode:"M"},"\\xleftrightarrow":{mode:"M"},"\\xleftrightharpoons":{mode:"M"},"\\xlongequal":{mode:"M"},"\\xmapsto":{mode:"M"},"\\xRightarrow":{mode:"M"},"\\xrightarrow":{mode:"M"},"\\xrightharpoondown":{mode:"M"},"\\xrightharpoonup":{mode:"M"},"\\xrightleftharpoons":{mode:"M"},"\\xtofrom":{mode:"M"},"\\xtwoheadleftarrow":{mode:"M"},"\\xtwoheadrightarrow":{mode:"M"},"\\yen":{mode:"M"},"\\Z":{mode:"M"},"\\Zeta":{mode:"M"},"\\zeta":{mode:"M"}},a.environmentDictionary={align:{mode:"T"},"align*":{mode:"T"},alignat:{mode:"T",signature:"{\u6570\u91CF}"},"alignat*":{mode:"T",signature:"{\u5217\u683C\u5F0F}"},center:{mode:"T"},conjecture:{mode:"T"},corollary:{mode:"T"},definition:{mode:"T"},enumerate:{mode:"T"},equation:{mode:"T"},"equation*":{mode:"T"},example:{mode:"T"},flushleft:{mode:"T"},flushright:{mode:"T"},gather:{mode:"T"},"gather*":{mode:"T"},itemize:{mode:"T"},lemma:{mode:"T"},plaintable:{mode:"T",signature:"{\u5217\u683C\u5F0F}"},proof:{mode:"T"},proofc:{mode:"T"},proposition:{mode:"T"},quotation:{mode:"T"},references:{mode:"T"},remark:{mode:"T"},structure:{mode:"T"},tabular:{mode:"T",signature:"{\u5217\u683C\u5F0F}"},thebibliography:{mode:"T"},theorem:{mode:"T"},tikzcd:{mode:"T"},tikzpicture:{mode:"T"},aligned:{mode:"M"},alignedat:{mode:"M"},array:{mode:"M",signature:"{\u5217\u683C\u5F0F}"},Bmatrix:{mode:"M"},bmatrix:{mode:"M"},cases:{mode:"M"},cd:{mode:"M"},darray:{mode:"M"},dcases:{mode:"M"},drcases:{mode:"M"},gathered:{mode:"M"},matrix:{mode:"M"},pmatrix:{mode:"M"},rcases:{mode:"M"},smallmatrix:{mode:"M"},Vmatrix:{mode:"M"},vmatrix:{mode:"M"}},a.snippetDictionary={"\\bigl(...\\bigr)":{mode:"M",insertText:"\\bigl( ${0} \\bigr)"},"\\bigl[...\\bigr]":{mode:"M",insertText:"\\bigl[ ${0} \\bigr]"},"\\bigl\\{...\\bigr\\}":{mode:"M",insertText:"\\bigl\\\\{ ${0} \\bigr\\\\}"},"\\bigl|...\\bigr|":{mode:"M",insertText:"\\bigl| ${0} \\bigr|"},"\\Bigl(...\\Bigr)":{mode:"M",insertText:"\\Bigl( ${0} \\Bigr)"},"\\Bigl[...\\Bigr]":{mode:"M",insertText:"\\Bigl[ ${0} \\Bigr]"},"\\Bigl\\{...\\Bigr\\}":{mode:"M",insertText:"\\Bigl\\\\{ ${0} \\Bigr\\\\}"},"\\Bigl|...\\Bigr|":{mode:"M",insertText:"\\Bigl| ${0} \\Bigr|"},"\\biggl(...\\biggr)":{mode:"M",insertText:"\\biggl( ${0} \\biggr)"},"\\biggl[...\\biggr]":{mode:"M",insertText:"\\biggl[ ${0} \\biggr]"},"\\biggl\\{...\\biggr\\}":{mode:"M",insertText:"\\biggl\\\\{ ${0} \\biggr\\\\}"},"\\biggl|...\\biggr|":{mode:"M",insertText:"\\biggl| ${0} \\biggr|"},"\\Biggl(...\\Biggr)":{mode:"M",insertText:"\\Biggl( ${0} \\Biggr)"},"\\Biggl[...\\Biggr]":{mode:"M",insertText:"\\Biggl[ ${0} \\Biggr]"},"\\Biggl\\{...\\Biggr\\}":{mode:"M",insertText:"\\Biggl\\\\{ ${0} \\Biggr\\\\}"},"\\Biggl|...\\Biggr|":{mode:"M",insertText:"\\Biggl| ${0} \\Biggr|"},"\\langle...\\rangle":{mode:"M",insertText:"\\langle ${0} \\rangle"},"\\left(...\\right)":{mode:"M",insertText:"\\left( ${0} \\right)"},"\\left[...\\right]":{mode:"M",insertText:"\\left[ ${0} \\right]"},"\\left\\{...\\right\\}":{mode:"M",insertText:"\\left\\\\{ ${0} \\right\\\\}"},"\\left|...\\right|":{mode:"M",insertText:"\\left| ${0} \\right|"}},a.strings={zh:{"unmatched-bracket":"'${1}' \u6CA1\u6709\u914D\u5BF9\u3002"}},a.getString=function(h,...f){var e;let g=(null!==(e=a.strings[c.options.locale])&& void 0!==e?e:a.strings.zh)[h];if(!g)return"";let b=g;b=b.replace(/\$(_+)\{/g,"$$__$1{");for(let d=0;d<f.length;d++)b=b.replace("${"+(d+1)+"}",f[d].replace(/\$(_*)\{/g,"$$__$1{"));return b.replace(/\$__(_*)\{/g,"$$$1{")},a.imports=[]}),define("lib/StructureAnalyser",["require","exports","lib/common"],function(b,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.btexStructureAnalyser=void 0,a.btexStructureAnalyser={analyse:function(k,g){var i,j,l;let h={},o=null!==(i=null==g?void 0:g.startLineNumber)&& void 0!==i?i:1,p=null!==(j=null==g?void 0:g.endLineNumber)&& void 0!==j?j:k.getLineCount();for(let e=o;e<=p;e++){null!==(l=h[e])&& void 0!==l||(h[e]=[]);let f=h[e],a=k.getLineContent(e);if(a.length>c.options.maxParsedLineLength)continue;a=a.replace(/\\\\/g,"  ").replace(/(^|[^\\])%.*/,"$1");let b=1;for(;a.length>0;)switch(a[0]){case"{":case"}":case"$":f.push({tag:a[0],startColumn:b,endColumn:b+1}),a=a.substring(1),b++;continue;case"\\":if("[]()".includes(a[1])){f.push({tag:"\\"+a[1],startColumn:b,endColumn:b+2}),a=a.substring(2),b+=2;continue}let d=a.match(/^\\(begin|end)\s*(\{[^\{\}\\]*\})/);if(d){f.push({tag:"\\"+d[1]+d[2],startColumn:b,endColumn:b+d[0].length}),a=a.substring(d[0].length),b+=d[0].length;continue}if(d=a.match(/^(\\@?(re)?newcommand(\s*\*)?)\s*\{\s*(\\[a-zA-Z]+|.?)?\s*\}/)||a.match(/^(\\@?([aegpt@]?def|(re)?newcommand(\s*\*)?))/)){f.push({tag:"def",startColumn:b,endColumn:b+d[1].length}),a=a.substring(d[1].length),b+=d[1].length;continue}if(d=a.match(/^\\(?:@?env[ap]?(def)|(re)?newenvironment(\s*\*)?)/)){f.push({tag:"def"===d[1]?"envdef":"newenv",startColumn:b,endColumn:b+d[0].length}),a=a.substring(d[0].length),b+=d[0].length;continue}a=a.substring(2),b+=2;continue;case"#":let m=a.match(/^#+.?/),n=m?m[0].length:1;a=a.substring(n),b+=n;continue;default:a=a.substring(1),b++;continue}}return h}}}),define("lib/structure",["require","exports","monaco-editor","lib/data"],function(c,a,d,e){"use strict";function b(h,a,i){if(i<=0)return a;let f=h._analyserResult;if(!f)return;let d=0,j=f[a.lineNumber];for(;d<j.length&&j[d].startColumn<a.column;)d++;let g=0,k=h.getLineCount();for(let b=a.lineNumber;b<=k;b++){let e=f[b];for(let c=b===a.lineNumber?d:0;c<e.length;c++)if("{"===e[c].tag)g++;else if("}"===e[c].tag){if(0== --g&&0== --i)return{lineNumber:b,column:e[c].startColumn};if(-1===g)return}}}function f(a,b){return{startLineNumber:b,endLineNumber:b,startColumn:a.startColumn,endColumn:a.endColumn}}function g(a){return"{"===a?"}":"\\("===a?"\\)":"\\["===a?"\\]":a.startsWith("\\begin")?a.replace("\\begin","\\end"):""}Object.defineProperty(a,"__esModule",{value:!0}),a.validateModel=a.getHighlightBrackets=a.detectMode=a.jumpOverGroups=a.matchEnvironment=void 0,a.matchEnvironment=function(l,n,c,a){var h;if(1!==a&& -1!==a)return;let i=[n],j=l._analyserResult;if(!j)return;let d=0,k=j[c.lineNumber];for(;d<k.length&&k[d].startColumn<c.column;)d++;if(!((null===(h=k[--d])|| void 0===h?void 0:h.endColumn)>=c.column))return;let o=l.getLineCount();for(let b=c.lineNumber;b>0&&b<=o;b+=a){let g=j[b];for(let e=b===c.lineNumber?d+a:1===a?0:g.length-1;e>=0&&e<g.length;e+=a){let f=g[e].tag.match(/^\\(begin|end)\{([^\{\}\\]*)\}$/);if(f){if("begin"===f[1]==(1===a))i.push(f[2]);else{let m=i.pop();if(null!==m&&m!==f[2])return;if(0===i.length)return{lineNumber:b,column:g[e].endColumn-f[2].length-1}}}}}},a.jumpOverGroups=b,a.detectMode=function(o,h){var j,k;let l=o._analyserResult;if(!l)return"T";let a=[];for(let g=1;g<=h.lineNumber;g++){let f=l[g];g===h.lineNumber&&(f=f.filter(a=>a.endColumn<=h.column));for(let d=0;d<f.length;d++){let c=f[d];if("$"===c.tag){let m=(null===(j=f[d+1])|| void 0===j?void 0:j.tag)==="$"&&(null===(k=f[d+1])|| void 0===k?void 0:k.startColumn)===c.endColumn;a.length>0&&"$"===a[a.length-1]?a.pop():a.length>0&&m&&"$$"===a[a.length-1]?(a.pop(),d++):(a.push(m?"$$":"$"),m&&d++)}else if("\\("===c.tag)a.push("\\(");else if("\\["===c.tag)a.push("\\[");else if("{"===c.tag)a.push("{");else if("\\)"===c.tag)"\\("===a[a.length-1]&&a.pop();else if("\\]"===c.tag)"\\["===a[a.length-1]&&a.pop();else if("}"===c.tag)for(;a.length>0&&"{"!==a.pop(););else if(c.tag.startsWith("\\begin")){let n=c.tag.substring(7,c.tag.length-1);e.mathEnvironments.join("|").includes(n)&&!n.includes("|")&&a.push(n)}else if(c.tag.startsWith("\\end")){let p=c.tag.substring(5,c.tag.length-1);a.length>0&&a[a.length-1]===p&&a.pop()}else if("def"===c.tag||"newenv"===c.tag||"envdef"===c.tag){let i=b(o,{lineNumber:g,column:c.startColumn},"def"===c.tag?1:"newenv"===c.tag?3:4);if(i){if(f=l[g=i.lineNumber],g>h.lineNumber||g===h.lineNumber&&i.column>=h.column)return"T";for(g===h.lineNumber&&(f=f.filter(a=>a.endColumn<=h.column)),d=0;f[d]&&f[d].startColumn<=i.column;)d++;d--}}}}return a.filter(a=>"{"!==a).length>0?"M":"T"},a.getHighlightBrackets=function(q,d){var l,m;let b=[],r=q._analyserResult;if(!r)return[];let t=q.getLineCount(),n=!1;for(let c=1;c<=t;c++){let k=r[c];for(let e=0;e<k.length;e++){let a=k[e],i=c===d.lineNumber&&a.startColumn<=d.column&&a.endColumn>=d.column;if(!n&&(c>d.lineNumber||c===d.lineNumber&&a.startColumn>d.column)){if(!(b.length>0))return[];for(let u of b)u.enclosesCursor=!0;n=!0}if("$"===a.tag){let o=(null===(l=k[e+1])|| void 0===l?void 0:l.tag)==="$"&&(null===(m=k[e+1])|| void 0===m?void 0:m.startColumn)===a.endColumn;if(b.length>0&&("$"===b[b.length-1].tag||o&&"$$"===b[b.length-1].tag)){let p="$"===b[b.length-1].tag;i||(i=!p&&c===d.lineNumber&&a.startColumn===d.column-2);let j=b.pop();if(j&&((null==j?void 0:j.enclosesCursor)||i))return[f(j,j.line),f({startColumn:a.startColumn,endColumn:p?a.endColumn:a.startColumn+2},c),];!p&&e++}else b.push(o?{line:c,startColumn:a.startColumn,endColumn:a.startColumn+2,tag:"$$"}:Object.assign({line:c},a)),o&&e++}else if("\\("===a.tag||"\\["===a.tag||"{"===a.tag||a.tag.startsWith("\\begin"))b.push(Object.assign({line:c},a));else if("\\)"===a.tag||"\\]"===a.tag||"}"===a.tag||a.tag.startsWith("\\end")){let s=[...b];for(;b.length>0;){let h=b.pop();if(h&&g(h.tag)===a.tag){if((null==h?void 0:h.enclosesCursor)||i)return[f(h,h.line),f(a,c)];s=b;break}}b=s}if(i){if(!(b.length>0))return[];for(let v of b)v.enclosesCursor=!0;n=!0}}}return[]},a.validateModel=function(l,w){var o,p;let c=[],m=[],u=l._analyserResult;if(!u)return;let x=l.getLineCount(),j;for(let h=1;h<=x;h++){let n=u[h];for(let i=0;i<n.length;i++){let a=n[i],q=j&&(j.lineNumber>h||j.lineNumber===h&&j.column>a.startColumn);if("$"===a.tag){let r=(null===(o=n[i+1])|| void 0===o?void 0:o.tag)==="$"&&(null===(p=n[i+1])|| void 0===p?void 0:p.startColumn)===a.endColumn;c.length>0&&("$"===c[c.length-1].tag||r&&"$$"===c[c.length-1].tag)?("$"!==c[c.length-1].tag&&i++,c.pop()):(c.push(r?{line:h,startColumn:a.startColumn,endColumn:a.startColumn+2,tag:"$$"}:Object.assign({line:h},a)),r&&i++)}else if("{"===a.tag|| !q&&("\\("===a.tag||"\\["===a.tag||a.tag.startsWith("\\begin")))c.push(Object.assign({line:h},a));else if("}"===a.tag|| !q&&("\\)"===a.tag||"\\]"===a.tag||a.tag.startsWith("\\end"))){let s=[...c],v=[];for(;c.length>0;){let k=c.pop();if(k){if(g(k.tag)!==a.tag){v.push(Object.assign(Object.assign({},f(k,k.line)),{severity:d.MarkerSeverity.Error,message:e.getString("unmatched-bracket",k.tag)}));continue}s=c;break}}c===s?m.push(...v):(m.push(Object.assign(Object.assign({},f(a,h)),{severity:d.MarkerSeverity.Error,message:e.getString("unmatched-bracket",a.tag)})),c=s)}else q||"def"!==a.tag&&"newenv"!==a.tag&&"envdef"!==a.tag||(j=b(l,{lineNumber:h,column:a.startColumn},"def"===a.tag?1:"newenv"===a.tag?3:4))}}for(let t of c)m.push(Object.assign(Object.assign({},f(t,t.line)),{severity:d.MarkerSeverity.Error,message:e.getString("unmatched-bracket",t.tag)}));d.editor.setModelMarkers(l,w,m)}}),define("lib/CompletionItemProvider",["require","exports","monaco-editor","lib/common","lib/data","lib/structure"],function(b,a,c,d,e,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.btexCompletionItemProvider=void 0,a.btexCompletionItemProvider={triggerCharacters:["\\"],provideCompletionItems:function(b,a){var r,s,t,u,v,w,x,y,z,A;let g=[],D=b.getWordUntilPosition(a).word,E=null===(r=b.getWordAtPosition(a))|| void 0===r?void 0:r.word,n=b.getValueInRange({startLineNumber:a.lineNumber,endLineNumber:a.lineNumber,startColumn:1,endColumn:a.column}),J=b.getLineContent(a.lineNumber).substring(n.length),F=n.match(/\\(?:begin|end)\s*\{([^\{\}\\\ud800-\udfff]*)$/);if(F){let B=J.match(/([^\{\}\\\ud800-\udfff]*)\}/),G=!B,H={startLineNumber:a.lineNumber,endLineNumber:a.lineNumber,startColumn:a.column-F[1].length,endColumn:a.column+(B?B[1].length+1:0)},K=f.detectMode(b,a);for(let i in e.environmentDictionary){let k=e.environmentDictionary[i];("T"!==K||"M"!==k.mode)&&g.push({kind:null!==(s=k.kind)&& void 0!==s?s:c.languages.CompletionItemKind.Module,label:i,insertText:G?i+"}${0}\\end{"+i+"}":i+"}",insertTextRules:null!==(t=k.insertTextRules)&& void 0!==t?t:c.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:H,detail:`\\begin{${i}}`+(null!==(u=k.signature)&& void 0!==u?u:""),tags:k.deprecated?[c.languages.CompletionItemTag.Deprecated]:void 0})}let L=function(m,f){let n=new RegExp("(?:"+[...e.envCommands,...e.envStarCommands].join("|").replace(/\\/g,"\\\\").replace(/\*/g,"\\*")+")\\s*\\{([a-zA-Z\\*]+)\\}","g"),a=new Set,g=!1,h=m.getLinesContent(),i=c.editor.getModel(c.Uri.file("/preamble"));for(let j of(i&&h.push(...i.getLinesContent()),h)){if(j.length>d.options.maxParsedLineLength)continue;let k=j.match(n);if(k)for(let b of k){let l=b.match(/\{([a-zA-Z\*]+)\}/);if(l){if((b=l[1])===f)g?f=void 0:g=!0;else if(b in e.environmentDictionary||a.has(b)||a.add(b),a.size>d.options.suggestionsLimit)return a}}}return a}(b,E);for(let l of L)g.push({kind:c.languages.CompletionItemKind.Module,label:l,insertText:G?l+"}${0}\\end{"+l+"}":l+"}",insertTextRules:c.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:H,detail:`\\begin{${l}}`});return{suggestions:g}}if(/^\\[a-zA-Z]*$/.test(D)&&!/(^|[^\\#]|#\\)(\\\\)+[a-zA-Z]*$/.test(n)&&!/#\\[a-zA-Z]*$/.test(n)){let I=f.detectMode(b,a.delta(0,-D.length));for(let o in e.snippetDictionary){let j=e.snippetDictionary[o];("T"!==I||"M"!==j.mode)&&g.push({kind:null!==(v=j.kind)&& void 0!==v?v:"M"===j.mode?c.languages.CompletionItemKind.Field:c.languages.CompletionItemKind.Method,label:o,insertText:null!==(w=j.insertText)&& void 0!==w?w:o,insertTextRules:c.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:null!==(x=j.signature)&& void 0!==x?x:o,tags:j.deprecated?[c.languages.CompletionItemTag.Deprecated]:void 0})}for(let p in e.commandDictionary){let h=e.commandDictionary[p];("T"!==I||"M"!==h.mode)&&g.push({kind:null!==(y=h.kind)&& void 0!==y?y:"M"===h.mode?c.languages.CompletionItemKind.Field:c.languages.CompletionItemKind.Method,label:p,insertText:null!==(z=h.insertText)&& void 0!==z?z:p,insertTextRules:h.insertTextRules,detail:null!==(A=h.signature)&& void 0!==A?A:p,tags:h.deprecated?[c.languages.CompletionItemTag.Deprecated]:void 0})}let M=function(k,f){let l=/\\([a-zA-Z]+)/g,a=new Set,g=k.getLinesContent(),h=c.editor.getModel(c.Uri.file("/preamble"));for(let i of(h&&g.push(...h.getLinesContent()),g)){if(i.length>d.options.maxParsedLineLength)continue;let j=i.match(l);if(j){for(let b of j)if(b===f)f=void 0;else if(b in e.commandDictionary||a.has(b)||a.add(b),a.size>d.options.suggestionsLimit)return a}}return a}(b,E);for(let C of M)g.push({kind:c.languages.CompletionItemKind.Method,label:C,insertText:C,detail:C});let m=f.matchEnvironment(b,null,a,-1);if(m){let q=b.getValueInRange({startLineNumber:m.lineNumber,endLineNumber:m.lineNumber,startColumn:m.column,endColumn:b.getLineLength(m.lineNumber)+1}).match(/^[^\{\}\\]*(?=\})/);q&&(g=g.filter(a=>"\\end"!==a.label)).push({kind:c.languages.CompletionItemKind.Method,label:`\\end{${q[0]}}`,insertText:`\\end{${q[0]}}`,detail:`\\end{${q[0]}}`})}}return 0===g.length?null:{suggestions:g}}}}),define("lib/handlers",["require","exports","monaco-editor","diff","lib/common","lib/structure","lib/StructureAnalyser"],function(c,a,d,e,f,g,h){"use strict";function b(b,a){a&&a.reason!==d.editor.CursorChangeReason.Explicit||setTimeout(()=>{var c;let a=b.getModel(),e=b.getPosition();if(!a||!e)return;let f=null!==(c=a._bracketsDecorations)&& void 0!==c?c:[],h=g.getHighlightBrackets(a,e),i=a.deltaDecorations(f,h.map(a=>({options:{className:"bracket-match",stickiness:d.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},range:a})));a._bracketsDecorations=i},0)}Object.defineProperty(a,"__esModule",{value:!0}),a.onDidChangeCursorPosition=a.onDidChangeModelContent=void 0,a.onDidChangeModelContent=function(a,k){var c;let i=k.changes;if(i.length>1){let l=null!==(c=a._oldValue)&& void 0!==c?c:"";var m=d.editor.createModel(l,"btex");i=i.filter(a=>!(""===a.text&&a.range.startLineNumber===a.range.endLineNumber&&1===a.range.startColumn&&a.range.endColumn===m.getLineLength(a.range.startLineNumber)+1&&/^\s+$/.test(m.getLineContent(a.range.startLineNumber))))}let j=a._validateTimeout;void 0!==j&&clearTimeout(j),a._validateTimeout=setTimeout(()=>{let b=a.getModel();b&&g.validateModel(b,a.getId()),delete a._validateTimeout},500),setTimeout(()=>{var y,z,A,B,C,D,E,F,G,H;let l=a.getModel(),c=a.getPosition();if(!l||!c)return;let T=null!==(y=a._oldValue)&& void 0!==y?y:"";a._oldValue=a.getValue();let N=!1;for(let I of i)if(I.range.startLineNumber!==I.range.endLineNumber||I.text.includes("\n")){N=!0;break}let J=null!==(z=l._analyserResult)&& void 0!==z?z:{};if(N)J=h.btexStructureAnalyser.analyse(l);else for(let U of i)Object.assign(J,h.btexStructureAnalyser.analyse(l,U.range));l._analyserResult=J;let O=a._diffSource;if(void 0!==O){let r=e.diffLines(O,l.getValue()),t=[],n=1,u=0;for(let o=0;o<r.length;o++){let p=r[o];if(p.added)t.push({range:new d.Range(n,1,n+(null!==(A=p.count)&& void 0!==A?A:1)-1,1),options:{isWholeLine:!0,linesDecorationsClassName:"line-dec-added",minimap:{color:"#81b88b",position:d.editor.MinimapPosition.Gutter}}}),n+=null!==(B=p.count)&& void 0!==B?B:1,u+=null!==(C=p.count)&& void 0!==C?C:1;else if(p.removed){let v=n;u+=null!==(D=p.count)&& void 0!==D?D:1,o+1<r.length&&r[o+1].added&&(n+=null!==(E=r[o+1].count)&& void 0!==E?E:1,u+=null!==(F=r[o+1].count)&& void 0!==F?F:1,o++),t.push({range:new d.Range(v,1,v===n?n:n-1,1),options:{isWholeLine:!0,linesDecorationsClassName:v===n?"line-dec-removed":"line-dec-modified",minimap:{color:v===n?"#ca4b51":"#66afe0",position:d.editor.MinimapPosition.Gutter}}})}else n+=null!==(G=p.count)&& void 0!==G?G:1}u>200&&(t=[],delete a._diffSource);let V=null!==(H=l._diffDecorations)&& void 0!==H?H:[],W=a.deltaDecorations(V,t);l._diffDecorations=W}if(k.isUndoing||k.isRedoing||1!==i.length)return;let s=l.getValueInRange({startLineNumber:c.lineNumber,endLineNumber:c.lineNumber,startColumn:1,endColumn:c.column}),K=l.getLineContent(c.lineNumber);if(K.length>f.options.maxParsedLineLength)return;let q=i[0].text;if("$"===q&&s.endsWith("$$")&&f.insertText(a,c,"$$"),"\\begin{".endsWith(q)&&s.endsWith("{")&&""!==q){a.trigger(null,"editor.action.triggerSuggest",void 0);return}let j=s.match(/\\begin\s*\{([^\{\}\\\s]*)\}$/);j&&"}"===q&&!K.substr(s.length).trim().startsWith(`\\end{${j[1]}}`)&&f.insertText(a,c,`\\end{${j[1]}}`),(j=s.match(/\\begin\s*\{$/))&&"{}"===q&&f.insertText(a,c,"}\\end{}",c,1);let L=(j=s.match(/\\(begin|end)\s*\{([^\{\}\\]*)(\}?)$/))&&j[3]&&q===j[2]+"}";if(j&&(L||!j[3])&&(L||q.length<=j[2].length)&&i[0].range.endLineNumber===c.lineNumber&&i[0].range.startColumn===c.column-i[0].text.length){L||setTimeout(()=>{a.trigger(null,"editor.action.triggerSuggest",void 0)},0);let P=(null!=m?m:d.editor.createModel(T,"btex")).getLineContent(c.lineNumber).substring(j.index).match(/\\(begin|end)\s*\{([^\{\}\\]*)\}/),M=K.substring(j.index).match(/\\(begin|end)\s*\{([^\{\}\\]*)\}/);if(P&&M){let w=P[2],Q=M[2],R="begin"===M[1]?1:-1,x=g.matchEnvironment(l,w,c,R),S=Object.assign({},c);(null==x?void 0:x.lineNumber)===c.lineNumber&& -1===R&&(S.column+=Q.length-w.length),x&&/^[^\ud800-\udfff]*$/.test(w)&&f.insertText(a,x,Q,S,w.length)}}b(a)},0)},a.onDidChangeCursorPosition=b}),define("lib/LanguageConfiguration",["require","exports","monaco-editor"],function(c,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.btexLanguageConfiguration=void 0,b.btexLanguageConfiguration={autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"\\{",close:"\\}"},{open:"\\[",close:"\\]"},{open:"\\(",close:"\\)"},{open:"`",close:"'"},{open:"$",close:"$",notIn:["comment"]},],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"`",close:"'"},{open:"$",close:"$"},],brackets:[],comments:{lineComment:"%"},indentationRules:{increaseIndentPattern:/\\begin\s*\{[^\{\}\\]*\}(?!.*\\(begin|end)\s*\{)/,decreaseIndentPattern:/^\s*\\end\s*\{/},wordPattern:/\\(@*[a-zA-Z]*)|[^\s\d`~!@#$%^&*()\-=_+[\]{}\\\|;:'"<>,./?\u0500-\uffff]+/g,onEnterRules:[{beforeText:/\\begin\s*\{[^\{\}\\]*\}(?!.*\\(begin|end)\s*\{)/,afterText:/^\s*\\end\s*\{/,action:{indentAction:a.languages.IndentAction.IndentOutdent}},{beforeText:/\\begin\s*\{[^\{\}\\]*\}(?!.*\\(begin|end)\s*\{)/,action:{indentAction:a.languages.IndentAction.Indent}},{beforeText:/\$\$\s*$/,afterText:/^\s*\$\$/,action:{indentAction:a.languages.IndentAction.IndentOutdent}},{beforeText:/\\\[\s*$/,afterText:/^\s*\\\]/,action:{indentAction:a.languages.IndentAction.IndentOutdent}},{beforeText:/\\\(\s*$/,afterText:/^\s*\\\)/,action:{indentAction:a.languages.IndentAction.IndentOutdent}},{beforeText:/\{\s*$/,afterText:/^\s*\}/,action:{indentAction:a.languages.IndentAction.IndentOutdent}},]}}),define("lib/TokensProvider",["require","exports","lib/data"],function(c,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.btexTokensProvider=void 0,a.btexTokensProvider={envCommands:b.envCommands,envStarCommands:b.envStarCommands,mathEnvironments:b.mathEnvironments.map(a=>"{"+a+"}"),defaultToken:"text",includeLF:!0,tokenizer:{root:[[/\[\[/,"delimiter","@inlink"],{include:"@common"},[/\\begin(?=\s*\{)/,"command","@begin"],[/\\@?[aegpt@]?def(?![a-zA-Z])/,{token:"command",next:"@def.1"}],[/(\\@?(?:re)?newcommand)(\s*)(\**)(\s*)(\{)(\s*)(\\(?:[a-zA-Z]+|.))(\s*)(\})/,["command","","text","","delimiter.curly","","command","",{token:"delimiter.curly",next:"@def.1"},],],[/(\\@?(?:re)?newcommand)(\s*)(\**)(\s*)(\\(?:[a-zA-Z]+|.))/,["command","","text","",{token:"command",next:"@def.1"}],],[/(\\@?(?:re)?newenvironment)(\s*)(\**)(\s*)(\{)([^\{\}\\]*)(\})/,["command","","text","","delimiter.curly","string.env",{token:"delimiter.curly",next:"@def.2"},],],[/(\\@?env[ap]?def)(\s*)(\**)(\s*)(\{)([^\{\}\\]*)(\})/,["command","","text","","delimiter.curly","string.env",{token:"delimiter.curly",next:"@def.3"},],],[/(\\@?(?:re)?newenvironment)(\s*)(\**)(\s*)(\{)/,["command","","text","",{token:"@rematch",next:"@def.3"}],],[/(\\@?env[ap]?def)(\s*)(\**)(\s*)(\{)/,["command","","text","",{token:"@rematch",next:"@def.4"}],],[/(\\(?:href|url))(\s*)(\{)/,["command","",{token:"delimiter.curly",next:"@inurl"}]],{include:"@commands"},[/^(\s*)(\*)([\s\n])/,["","text.special",""]],[/^(\s*)(==)((?!=).*[^=]==\s*\n)/,["","text.special",{token:"@rematch",next:"@intitle"}],],[/^(\s*)(===)((?!=).*[^=]===\s*\n)/,["","text.special",{token:"@rematch",next:"@intitle"}],],[/^(\s*)(====)((?!=).*[^=]====\s*\n)/,["","text.special",{token:"@rematch",next:"@intitle"}],],[/./,"text"],],math:[[/[\^_]/,"text.special"],[/\\begin(?=\s*\{)/,"command","@begin"],[/\\[\\]/,"command"],[/\{/,"delimiter.curly","math.group"],{include:"@commands.math"},{include:"@common"},[/./,"text.math"],],intitle:[[/\n/,"","@popall"],[/(==+)(\s*\n)/,["text.special",{token:"",next:"@pop"}]],{include:"@root"},],inlink:[[/\n/,"","@popall"],[/\||\]\]/,"delimiter","@pop"],[/\{/,"delimiter.curly","inlink.group"],{include:"@common"},{include:"@commands"},[/./,"text.link"],],inurl:[[/\n/,"","@popall"],[/\}/,"delimiter.curly","@pop"],[/\{/,"delimiter.curly","@push"],{include:"@common"},{include:"@commands"},[/./,"text.link"],],common:[[/[\{\}]/,"delimiter.curly"],[/[\(\)\[\]]/,"delimiter"],[/[&~]/,"text.special"],[/#+[+-]?([a-zA-Z]+|.?)/,"argument"],[/%/,"@rematch","@comment"],],comment:[[/.*/,"comment","@pop"]],begin:[[/(\{)([^\{\}\\]*)(\})/,{cases:{"@mathEnvironments":["delimiter.curly","string.env",{token:"delimiter.curly",next:"@math.env"},],"@default":["delimiter.curly","string.env",{token:"delimiter.curly",next:"@pop"},]}},],[/\s/,""],[/./,"@rematch","@pop"],],end:[[/(\{)([^\{\}\\]*)(\})/,{cases:{"@mathEnvironments":["delimiter.curly","string.env",{token:"delimiter.curly",next:"@popall"},],"@default":["delimiter.curly","string.env",{token:"delimiter.curly",next:"@pop"},]}},],[/\s/,""],[/./,"@rematch","@pop"],],env:[[/(\{)([^\{\}\\]*)(\})/,["delimiter.curly","string.env",{token:"delimiter.curly",next:"@pop"}],],[/\s/,""],[/./,"@rematch","@pop"],],"math.env":[[/\\end(?=\s*\{)/,"delimiter.command","@end"],{include:"@math"}],"math.double":[[/\$\$/,"delimiter.command","@popall"],{include:"@math"}],"math.single":[[/\$/,"delimiter.command","@pop"],{include:"@math"}],"math.[":[[/\\\]/,"delimiter.command","@popall"],{include:"@math"}],"math.(":[[/\\\)/,"delimiter.command","@pop"],{include:"@math"}],"math.group":[[/\{/,"delimiter.curly","@push"],[/\}/,"delimiter.curly","@pop"],{include:"@math"},],"inlink.group":[[/\{/,"delimiter.curly","@push"],[/\}/,"delimiter.curly","@pop"],{include:"@inlink"},],"def.1":[[/\{/,"delimiter.curly","@def.group.1"],{include:"@common"},{include:"@commands.nomath"},],"def.2":[[/\{/,"delimiter.curly","@def.group.2"],{include:"@common"},{include:"@commands.nomath"},],"def.3":[[/\{/,"delimiter.curly","@def.group.3"],{include:"@common"},{include:"@commands.nomath"},],"def.4":[[/\{/,"delimiter.curly","@def.group.4"],{include:"@common"},{include:"@commands.nomath"},],"def.group.1":[[/\{/,"delimiter.curly","@def.group"],[/\}/,"delimiter.curly","@popall"],{include:"@common"},{include:"@commands.nomath"},],"def.group.2":[[/\{/,"delimiter.curly","@def.group"],[/(\})(\s*)(\{)/,["delimiter.curly","",{token:"delimiter.curly",next:"@def.group.1"}],],[/\}/,"delimiter.curly","@popall"],{include:"@common"},{include:"@commands.nomath"},],"def.group.3":[[/\{/,"delimiter.curly","@def.group"],[/(\})(\s*)(\{)/,["delimiter.curly","",{token:"delimiter.curly",next:"@def.group.2"}],],[/\}/,"delimiter.curly","@popall"],{include:"@common"},{include:"@commands.nomath"},],"def.group.4":[[/\{/,"delimiter.curly","@def.group"],[/(\})(\s*)(\{)/,["delimiter.curly","",{token:"delimiter.curly",next:"@def.group.3"}],],[/\}/,"delimiter.curly","@popall"],{include:"@common"},{include:"@commands.nomath"},],"def.group":[[/\{/,"delimiter.curly","@push"],[/\}/,"delimiter.curly","@pop"],{include:"@common"},{include:"@commands.nomath"},],commands:[[/\$\$/,"delimiter.command","@math.double"],[/\$/,"delimiter.command","@math.single"],[/\\\[/,"delimiter.command","@math.["],[/\\\(/,"delimiter.command","@math.("],[/(\\[a-zA-Z]+)(\*)/,{cases:{"@envStarCommands":["command",{token:"text",next:"@env"}],"@default":["command","text"]}},],[/\\(@*[a-zA-Z]+|@+|.?)/,{cases:{"@envCommands":{token:"command",next:"@env"},"@default":"command"}},],],"commands.math":[[/\$\$/,"delimiter.command","@math.double"],[/\$/,"delimiter.command","@math.single"],[/\\\[/,"delimiter.command","@math.["],[/\\\(/,"delimiter.command","@math.("],[/(\\[a-zA-Z]+)(\*)/,{cases:{"@envStarCommands":["command",{token:"text",next:"@env"}],"@default":["command.math","text"]}},],[/\\(@*[a-zA-Z]+|@+|.?)/,{cases:{"@envCommands":{token:"command",next:"@env"},"@default":"command.math"}},],],"commands.nomath":[[/\$/,"delimiter.command"],[/\\\[/,"delimiter.command"],[/\\\(/,"delimiter.command"],[/(\\[a-zA-Z]+)(\*)/,{cases:{"@envStarCommands":["command",{token:"text",next:"@env"}],"@default":["command","text"]}},],[/\\(@*[a-zA-Z]+|@+|.?)/,{cases:{"@envCommands":{token:"command",next:"@env"},"@default":"command"}},],]},brackets:[{open:"{",close:"}",token:"delimiter.curly"}]}}),define("lib/themes",["require","exports"],function(b,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.btexLightTheme=void 0,a.btexLightTheme={base:"vs",inherit:!1,rules:[{token:"keyword",foreground:"f87000"},{token:"command",foreground:"f87000"},{token:"attribute.value",foreground:"f87000"},{token:"tag",foreground:"f8a000"},{token:"command.math",foreground:"f8a000"},{token:"delimiter",foreground:"40484c"},{token:"delimiter.command",foreground:"f87000"},{token:"delimiter.css",foreground:"687074"},{token:"delimiter.html",foreground:"a0a8b0"},{token:"attribute.name",foreground:"30a0e0"},{token:"argument",foreground:"30a0e0"},{token:"string",foreground:"70a000"},{token:"identifier",foreground:"40484c"},{token:"text",foreground:"40484c"},{token:"text.math",foreground:"687074"},{token:"text.special",foreground:"f87000"},{token:"text.link",foreground:"9068d8"},{token:"comment",foreground:"a0a0a0"},],colors:{"editorLineNumber.foreground":"#c4d0d4","editorLineNumber.activeForeground":"#78848c","editor.lineHighlightBackground":"#8098a018","editor.lineHighlightBorder":"transparent","editor.selectionBackground":"#0090d028","minimap.selectionHighlight":"#0090d050","menu.selectionBackground":"#0090d028","menu.selectionForeground":"#404040"}}}),define("lib/DefinitionProvider",["require","exports","monaco-editor","lib/common","lib/data"],function(b,a,c,d,e){"use strict";function f(f,a){a.startsWith("\\")&&(a=a.substring(1));let i=new RegExp("(\\\\@?([aegpt@]?def|[apt@]?let|(re)?newcommand\\s*\\*?\\s*\\{?)\\s*)\\\\"+(/^@?@?[a-zA-Z]+/.test(a)?`${a}(?![a-zA-Z])`:`\\${a}`)),g=f.getLinesContent(),h=[];for(let b=0;b<g.length;b++){let e=g[b];if(e.length>d.options.maxParsedLineLength)continue;let c=(e=e.replace(/\\\\/g,"  ").replace(/(^|[^\\])%.*/,"$1")).match(i);c&&h.push({range:{startLineNumber:b+1,endLineNumber:b+1,startColumn:1+c.index+c[1].length,endColumn:1+c.index+c[0].length},uri:f.uri})}return h}Object.defineProperty(a,"__esModule",{value:!0}),a.overrideGoToDefinition=a.btexDefinitionProvider=void 0,a.btexDefinitionProvider={provideDefinition:function(b,a){let j=b.getValueInRange({startLineNumber:a.lineNumber,endLineNumber:a.lineNumber,startColumn:1,endColumn:a.column}).replace(/\\\\/g,"  ").replace(/(^|[^\\])%.*/,"$1"),k=b.getLineContent(a.lineNumber),h=j.match(/\\(@?@?[a-zA-Z]*|[^@]?)$/);if(h){let d=k.substring(h.index).match(/^\\(@?@?[a-zA-Z]+|[^@]?)/)[0];if(/^\\(@@.*|)$/.test(d))return[];let g=f(b,d);for(let l of e.imports){let i=c.editor.getModel(l.uri);i&&g.push(...f(i,d))}return 0===g.length?null:g}}},a.overrideGoToDefinition=function(b){let a=b._codeEditorService,c=a.openCodeEditor.bind(a);a.openCodeEditor=(a,b)=>__awaiter(this,void 0,void 0,function*(){let d=yield c(a,b);return null===d&&b.trigger(null,"editor.action.peekDefinition",void 0),d})}}),define("btex-monaco",["require","exports","monaco-editor","lib/common","lib/CompletionItemProvider","lib/handlers","lib/LanguageConfiguration","lib/TokensProvider","lib/themes","lib/DefinitionProvider","lib/data"],function(h,a,b,i,c,j,d,e,f,g,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.addImport=a.createEditor=a.setLocale=void 0,navigator.clipboard||(navigator.clipboard={}),navigator.clipboard.readText||(navigator.clipboard.readText=function(){return new Promise(a=>a(""))}),b.languages.register({id:"btex"}),b.languages.setMonarchTokensProvider("btex",e.btexTokensProvider),b.languages.setLanguageConfiguration("btex",d.btexLanguageConfiguration),b.languages.registerCompletionItemProvider("btex",c.btexCompletionItemProvider),b.languages.registerDefinitionProvider("btex",g.btexDefinitionProvider),b.editor.defineTheme("btex-light",f.btexLightTheme),a.setLocale=function(a){i.options.locale=a},a.createEditor=function(i,d,e,f="btex",h){let a=b.editor.create(i,{language:f,theme:"btex-light",fontFamily:'"Cascadia Code", "Microsoft YaHei UI", "Microsoft YaHei", sans-serif',fontSize:16,readOnly:h,automaticLayout:!0,unicodeHighlight:{ambiguousCharacters:!1}});if("btex"===f){var c;(c=a).updateOptions({detectIndentation:!1,wordBasedSuggestions:!1,wordSeparators:"`~!#$%^&*()-_=+[{]}\\|;:'\",.<>/?"}),c.onDidChangeModelContent(a=>j.onDidChangeModelContent(c,a)),c.onDidChangeCursorPosition(a=>j.onDidChangeCursorPosition(c,a)),g.overrideGoToDefinition(c)}return a.setValue(null!=d?d:""),h||(a._diffSource=null!=e?e:""),a},a.addImport=function(d,a){let c=b.Uri.file(d);k.imports.push({uri:c,content:a}),b.editor.createModel(a,"btex",c)}}),define("lib/StorageService",["require","exports"],function(b,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.StorageService=void 0,a.StorageService=class{constructor(){this.globalCache=new Map,this.workspaceCache=new Map}getCache(a){return 0===a?this.globalCache:this.workspaceCache}get(b,c,d){var e;let a=this.getCache(c).get(b);return null==a?d:a}getBoolean(b,c,d){var e;let a=this.getCache(c).get(b);return null==a?d:"true"===a}getNumber(b,c,d){var e;let a=this.getCache(c).get(b);return null==a?d:parseInt(a,10)}store(a,b,c){var e;if(null==b)return this.remove(a,c);let d=String(b);this.getCache(c).set(a,d)}remove(a,b){this.getCache(b).delete(a)}onWillSaveState(){}onDidChangeStorage(){}}}),require(["btex-monaco"],function(a){let b=/mobi/i.test(window.navigator.userAgent);if(b){$("textarea#wpTextbox1").addClass("b-unhide");return}a.setLocale("zh"),docReady(function(){if(window.monacoEditorData){let c=$("textarea#wpTextbox1");c.css("display","none"),($div=$('<div id="btex-monaco-container" class="btex-monaco-container">')).insertBefore(c);let b=window.monacoEditorData,d=a.createEditor(document.getElementById("btex-monaco-container"),c.val(),b.oldText,b.lang,b.readOnly);b.preamble&&a.addImport("/preamble",b.preamble),d.onDidChangeModelContent(function(){c.val(d.getValue())}),window.monacoEditor=d}})})