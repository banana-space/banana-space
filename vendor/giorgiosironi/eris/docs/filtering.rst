Filtering
=========

TODO: explain when() and all its features
